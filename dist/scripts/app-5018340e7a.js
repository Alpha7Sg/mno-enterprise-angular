(function(){angular.module("mnoEnterpriseAngular",["ngAnimate","ngAria","ngCookies","ngMessages","ui.router","ui.bootstrap","toastr","restangular","platanus.inflector","xeditable","maestrano.impac"])}).call(this),function(){var e;e=function(e,n,a,t,r,i,s,o,l,c,d){var u,p,m;return e.isLoading=!0,e.teams=[],e.originalTeams=[],e.appInstances=[],e.initialize=function(n,a){var t;return angular.copy(n,e.teams),angular.copy(n,e.originalTeams),t=_.filter(a,function(e){return"terminated"!==e.status}),angular.copy(t,e.appInstances),e.isLoading=!1},e.isTeamEmpty=function(e){return 0===e.users.length},e.hasTeams=function(){return e.teams.length>0},e.hasApps=function(){return e.appInstances.length>0},e.matrix=p={},p.isLoading=!1,p.hasAccess=function(n,a){return angular.isString(a)&&"all"===a?_.reduce(e.appInstances,function(e,a){return e&&null!=_.find(n.app_instances,function(e){return e.id===a.id})},!0):null!=_.find(n.app_instances,function(e){return e.id===a.id})},p.toggleAccess=function(e,n){var a;return a=p,a.hasAccess(e,n)?a.removeAccess(e,n):a.addAccess(e,n)},p.addAccess=function(n,a){return angular.isString(a)&&"all"===a?(n.app_instances.length=0,angular.copy(e.appInstances,n.app_instances)):null==_.find(n.app_instances,function(e){return e.id===a.id})?n.app_instances.push(a):void 0},p.removeAccess=function(e,n){var a,t;return angular.isString(n)&&"all"===n?e.app_instances.length=0:null!=(a=_.find(e.app_instances,function(e){return e.id===n.id}))?(t=e.app_instances.indexOf(a),e.app_instances.splice(t,1)):void 0},p.addTeam=function(){return u.open()},p.removeTeam=function(e){return m.open(e)},p.compileHash=function(e){return _.reduce(e,function(e,n){return e+=n.id+":",e+=_.sortBy(_.pluck(n.app_instances,"id"),function(e){return e}).join(),e+="::"},"")},p.isChanged=function(){var n;return n=p,n.compileHash(e.teams)!==n.compileHash(e.originalTeams)},p.cancel=function(){return _.each(e.teams,function(n){var a;return a=_.find(e.originalTeams,function(e){return e.id===n.id}),angular.copy(a.app_instances,n.app_instances)})},p.save=function(){var n,a;return a=p,a.isLoading=!0,n=[],_.each(e.teams,function(e){var a;return a=e.app_instances.length>0?e.app_instances:[{}],n.push(l.team.update(e.id,{app_instances:a}))}),t.all(n).then(function(){},a.errors="",a.updateOriginalTeams(),function(e){return a.errors=d.processRailsError(e[0])})["finally"](function(){return a.isLoading=!1})},p.updateOriginalTeams=function(){return _.each(e.teams,function(n){var a;return a=_.find(e.originalTeams,function(e){return e.id===n.id}),angular.copy(n.app_instances,a.app_instances)})},p.updateTeamName=function(n){var a;return a=_.find(e.teams,function(e){return e.id===n.id}),0===n.name.length?n.name=a.name:l.team.update(n.id,{name:n.name}).then(function(){},a.name=n.name,function(){return n.name=a.name})},e.addTeamModal=u={},u.config={instance:{backdrop:"static",templateUrl:"mno_enterprise/dashboard/teams/team-add-modal.html",size:"lg",windowClass:"inverse team-add-modal",scope:e}},u.open=function(){var e;return e=u,e.model={},e.$instance=a.open(e.config.instance),e.isLoading=!1},u.close=function(){var e;return e=u,e.$instance.close()},u.isProceedDisabled=function(){var e;return e=u,null==e.model.name||0===e.model.name.length},u.proceed=function(){var e;return e=u,e.isLoading=!0,l.team.create(e.model).then(function(n){return e.errors="",e.addToScope(n),e.close()},function(n){return e.errors=d.processRailsError(n)})["finally"](function(){return e.isLoading=!1})},u.addToScope=function(n){return e.teams.push(angular.copy(n)),e.originalTeams.push(angular.copy(n))},e.teamDeletionModal=m={},m.config={instance:{backdrop:"static",templateUrl:"mno_enterprise/dashboard/teams/team-delete-modal.html",size:"lg",windowClass:"inverse team-delete-modal",scope:e}},m.open=function(e){var n;return n=m,n.team=e,n.$instance=a.open(n.config.instance),n.isLoading=!1,n.errors=""},m.close=function(){var e;return e=m,e.$instance.close()},m.proceed=function(){var e;return e=m,e.isLoading=!0,l.team.destroy(e.team.id).then(function(n){return e.errors="",e.removeFromScope(e.team),e.close()},function(n){return e.errors=d.processRailsError(n)})["finally"](function(){return e.isLoading=!1})},m.removeFromScope=function(n){var a;return n=_.find(e.teams,function(e){return e.id===n.id}),a=e.teams.indexOf(n),a>=0&&e.teams.splice(a,1),n=_.find(e.originalTeams,function(e){return e.id===n.id}),a=e.originalTeams.indexOf(n),a>=0?e.originalTeams.splice(a,1):void 0},e.$watch(r.getSelected,function(n){return null!=n?t.all([i.getTeams(),s.getAppInstances()]).then(function(n){return e.initialize(n[0],n[1])}):void 0})},angular.module("mnoEnterpriseAngular").directive("dashboardOrganizationTeams",function(){return{restrict:"A",scope:{},templateUrl:"app/views/company/teams/organization-teams.html",controller:e}})}.call(this),function(){var e;e=function(e,n,a,t,r,i,s,o,l,c){var d,u;return e.isLoading=!0,e.teams=[],e.initialize=function(n){var a;return a=[],e.canManageTeam()?a=n:_.each(n,function(n){return e.teamHasUser(n,o.data.current_user)?a.push(n):void 0}),angular.copy(a,e.teams),e.isLoading=!1},e.isTeamEmpty=function(e){return 0===e.users.length},e.hasTeams=function(){return e.teams.length>0},e.canManageTeam=function(){return r.can.create.member()},e.teamHasUser=function(e,n){return null!=_.find(e.users,function(e){return e.id===n.id})},e.memberAddModal=d={},d.config={instance:{backdrop:"static",templateUrl:"mno_enterprise/dashboard/teams/member-add-modal.html",size:"lg",windowClass:"inverse team-member-add-modal",scope:e}},d.open=function(e){var n;return n=d,n.team=e,n.users=[],n.userList=n.getAvailableUsers(e),n.$instance=a.open(n.config.instance),n.isLoading=!1},d.close=function(){var e;return e=d,e.$instance.close()},d.getAvailableUsers=function(e){var n,a;return a=d,n=[],_.each(o.data.organization.members,function(a){return null==_.find(e.users,function(e){return e.id===a.id})&&"User"===a.entity?n.push(a):void 0}),n},d.canAddUsers=function(){var e;return e=d,e.userList.length>0},d.hasUser=function(e){var n;return n=d,_.contains(n.users,e)},d.toggleUser=function(e){var n;return n=d,n.hasUser(e)?n.removeUser(e):n.addUser(e)},d.addUser=function(e){var n;return n=d,n.hasUser(e)?void 0:n.users.push(e)},d.removeUser=function(e){var n,a;return a=d,(n=a.users.indexOf(e))>=0?a.users.splice(n,1):void 0},d.proceed=function(){var e;return e=d,e.isLoading=!0,l.members.add(e.team.id,e.users).then(function(n){return e.errors="",angular.copy(n,e.team.users),e.close()},function(n){return e.errors=c.processRailsError(n)})["finally"](function(){return e.isLoading=!1})},e.memberRemovalModal=u={},u.config={instance:{backdrop:"static",templateUrl:"mno_enterprise/dashboard/teams/member-removal-modal.html",size:"lg",windowClass:"inverse team-member-removal-modal",scope:e}},u.open=function(e,n){var t;return t=u,t.team=e,t.user=n,t.$instance=a.open(t.config.instance),t.isLoading=!1},u.close=function(){var e;return e=u,e.$instance.close()},u.proceed=function(){var e;return e=u,e.isLoading=!0,l.members.remove(e.team.id,[e.user]).then(function(n){return e.errors="",angular.copy(n,e.team.users),e.close()},function(n){return e.errors=c.processRailsError(n)})["finally"](function(){return e.isLoading=!1})},e.$watch(r.getSelected,function(n){return null!=n?t.all([i.getTeams(),s.getAppInstances()]).then(function(n){return e.initialize(n[0],n[1])}):void 0})},angular.module("mnoEnterpriseAngular").directive("dashboardOrganizationTeamList",function(){return{restrict:"A",scope:{title:"@"},templateUrl:"app/views/company/team-list/team-list.html",controller:e}})}.call(this),function(){var e;e=function(e,n,a,t,r){return e.isLoading=!0,e.model={},e.origModel={},e.forms={},e.initialize=function(n){return angular.copy(n,e.model),angular.copy(n,e.origModel),e.isLoading=!1},e.save=function(){return e.isLoading=!0,t.organization.update(e.model).then(function(n){return e.errors="",angular.copy(n,e.model),angular.copy(n,e.origModel)},function(n){return e.errors=r.processRailsError(n)})["finally"](function(){return e.isLoading=!1})},e.cancel=function(){return angular.copy(e.origModel,e.model),e.errors=""},e.isChanged=function(){return!angular.equals(e.model,e.origModel)},e.isCancelShown=function(){return e.isChanged()},e.isSaveEnabled=function(){var n;return n=e.forms,e.isChanged()&&n.settings.$valid},e.connecBtnClassFor=function(n){return"enable"===n?e.model.soa_enabled&&"btn-info":!e.model.soa_enabled&&"btn-info"},e.connecBtnClickOn=function(n){return e.model.soa_enabled="enable"===n},e.$watch(a.getSelected,function(n){return e.isLoading=!0,null!=n?e.initialize(a.selected.organization):void 0})},angular.module("mnoEnterpriseAngular").directive("dashboardOrganizationSettings",function(){return{restrict:"A",scope:{},templateUrl:"app/views/company/settings/organization-settings.html",controller:e}})}.call(this),function(){var e;e=function(e,n,a,t,r,i,s){var o,l,c;return e.members=[],e.teams=[],e.initialize=function(n,a){return null==a&&(a=nil),angular.copy(n,e.members),a?angular.copy(a,e.teams):void 0},e.editMember=function(n){return e.editionModal.open(n)},e.removeMember=function(n){return e.deletionModal.open(n)},e.inviteMembers=function(){return e.inviteModal.open()},e.isInviteShown=function(){return t.can.create.member()},e.isEditShown=function(e){return t.can.update.member(e)},e.isRemoveShown=function(e){return t.can.destroy.member(e)},e.memberRoleLabel=function(e){return"User"===e.entity?e.role:"Invited ("+e.role+")"},e.editionModal=l={},l.config={instance:{backdrop:"static",templateUrl:"dashboard/organization/members/edition-modal.html",size:"lg",windowClass:"inverse member-edit",scope:e},roles:["Member","Power User","Admin","Super Admin"]},l.open=function(e){var a;return a=l,a.member=e,a.selectedRole=e.role,a.$instance=n.open(a.config.instance),a.isLoading=!1,l.member=e},l.title=function(){var e;return e=l.member,"User"===e.entity?a.trustAsHtml("Edit Member: "+e.name+" "+e.surname):a.trustAsHtml("Edit Member: "+e.email)},l.close=function(){var e;return e=l,e.$instance.close()},l.select=function(e){return l.selectedRole=e},l.classForRole=function(e){var n;return n=l,e===n.member.role?"btn-info":e===n.selectedRole?"btn-warning":""},l.isChangeDisabled=function(){return l.member.role===l.selectedRole},l.change=function(){var n,a;return a=l,a.isLoading=!0,n={email:a.member.email,role:a.selectedRole},i.members.update(n).then(function(n){return a.errors="",angular.copy(n,e.members),a.close()},function(e){return a.errors=s.processRailsError(e)})["finally"](function(){return a.isLoading=!1})},e.deletionModal=o={},o.config={instance:{backdrop:"static",templateUrl:"dashboard/organization/members/removal-modal.html",size:"lg",windowClass:"inverse member-edit",scope:e}},o.open=function(e){var a;return a=o,a.member=e,a.$instance=n.open(a.config.instance),a.isLoading=!1,a.member=e},o.close=function(){var e;return e=o,e.$instance.close()},o.confirmationText=function(){var e;return e=o.member,"User"===e.entity&&null!=e.name?a.trustAsHtml("Do you really want to remove <strong>"+e.name+" "+e.surname+"</strong> from your company?"):a.trustAsHtml("Do you really want to remove <strong>"+e.email+"</strong> from your company?")},o.remove=function(){var n,a;return a=o,a.isLoading=!0,n={email:a.member.email},i.members.remove(n).then(function(n){return a.errors="",angular.copy(n,e.members),a.close()},function(e){return a.errors=s.processRailsError(e)})["finally"](function(){return a.isLoading=!1})},e.inviteModal=c={},c.config={instance:{backdrop:"static",templateUrl:"dashboard/organization/members/invite-modal.html",size:"lg",windowClass:"inverse member-edit",scope:e},defaultRole:"Member",roles:function(){var e;return e=["Member","Power User","Admin"],t.role.isSuperAdmin()&&e.push("Super Admin"),e},teams:function(){return e.teams}},c.open=function(){var e;return e=c,e.$instance=n.open(e.config.instance),e.isLoading=!1,e.members=[],e.userEmails="",e.step="enterEmails",e.roleList=e.config.roles(),e.teamList=e.config.teams(),e.invalidEmails=[]},c.close=function(){var e;return e=c,e.$instance.close()},c.isTeamListShown=function(){return c.teamList.length>0},c.title=function(){var e;return e=c,"enterEmails"===e.step?a.trustAsHtml("Enter email addresses"):a.trustAsHtml("Select role for each new member")},c.labelForAction=function(){return"enterEmails"===c.step?"Next":"Invite"},c.next=function(){var e;return e=c,"enterEmails"===e.step?c.processEmails():c.inviteMembers()},c.isNextEnabled=function(){var e;return e=c,"defineRoles"===e.step||"enterEmails"===e.step&&e.userEmails.length>0},c.oneValidEmail=function(){var e,n;return n=c,e=!1,_.each(n.userEmails.split("\n"),function(n){return n.match(email_regexp)?e=!0:void 0}),e},c.processEmails=function(){var e;return e=c,e.isLoading=!0,e.members=[],e.invalidEmails=[],_.each(e.userEmails.split("\n"),function(n){var a;return a=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,n.match(a)?e.members.push({email:n,role:e.config.defaultRole}):e.invalidEmails.push(n)}),e.isLoading=!1,0===e.invalidEmails.length?e.step="defineRoles":void 0},c.inviteMembers=function(){var n;return n=c,n.isLoading=!0,i.members.invite(n.members).then(function(a){return n.errors="",angular.copy(a,e.members),n.close()},function(e){return n.errors=s.processRailsError(e)})["finally"](function(){return n.isLoading=!1})},e.$watch(t.getSelected,function(n){return null!=n?r.getTeams().then(function(n){return e.initialize(t.selected.organization.members,r.teams)}):void 0})},angular.module("mnoEnterpriseAngular").directive("dashboardOrganizationMembers",function(){return{restrict:"A",scope:{},templateUrl:"app/views/company/members/organization-members.html",controller:e}})}.call(this),function(){var e;e=function(e,n,a,t,r){return e.isLoading=!0,e.invoices=[],e.$watch(a.getSelected,function(n){return null!=n?e.invoices=a.selected.invoices:void 0})},angular.module("mnoEnterpriseAngular").directive("dashboardOrganizationInvoices",function(){return{restrict:"A",scope:{},templateUrl:"app/views/company/invoices/organization-invoices.html",controller:e}})}.call(this),function(){var e;e=function(e,n,a,t,r){var i,s,o;return e.isLoading=!0,e.forms={},e.model={},e.origModel={},e.config={validTitles:["Mr.","Ms.","Mrs.","Miss","Dr.","Sir.","Prof."],validMonths:[1,2,3,4,5,6,7,8,9,10,11,12],validYears:function(){o=[];for(var e=s=i=(new Date).getFullYear(),n=i+20;n>=s?n>=e:e>=n;n>=s?e++:e--)o.push(e);return o}.apply(this),validCountries:t.countries},e.initialize=function(n){return angular.copy(n,e.model),angular.copy(n,e.origModel),e.isLoading=!1},e.save=function(){return e.isLoading=!0,a.updateCreditCard(e.model).then(function(n){return e.errors="",angular.copy(n.credit_card,e.model),angular.copy(n.credit_card,e.origModel),e.callback?e.callback():void 0},function(n){return e.errors=r.processRailsError(n)})["finally"](function(){return e.isLoading=!1})},e.cancel=function(){return angular.copy(e.origModel,e.model),e.errors=""},e.isChanged=function(){return!angular.equals(e.model,e.origModel)},e.isCancelShown=function(){return e.isChanged()},e.isSaveEnabled=function(){var n;return n=e.forms,e.isChanged()&&n.billingAddress.$valid&&n.creditCard.$valid},e.classForIconType=function(n){var a,t;return t=e,a=t.getType(),n===t.getType()||""===a?"enabled":"disabled"},e.getType=function(){var n,a,t;return t=e,n=t.model.number,null!==n&&void 0!==n?(a=new RegExp("^X"),null!==n.match(a)?"":(a=new RegExp("^4"),null!==n.match(a)?"visa":(a=new RegExp("^(34|37)"),null!==n.match(a)?"amex":(a=new RegExp("^5[1-5]"),null!==n.match(a)?"mastercard":(a=new RegExp("^6(?:011|5[0-9]{2})"),null!==n.match(a)?"discover":(a=new RegExp("(?:2131|1800|35[0-9]{3})"),null!==n.match(a)?"jcb":(a=new RegExp("^3(?:0[0-5]|[68][0-9])"),null!==n.match(a)?"dinersclub":n.length>4?"mastercard":""))))))):""},e.openGodaddySslSeal=function(){var e,a,t,r;return e="779",a="593",r="https://seal.godaddy.com/verifySeal?sealID=RsNWG4eDd3ctNJWJfbeSBjJ6OWCtE3j0OwSXRDYF1WlMAGMqqmX5Kp",t="menubar=no,toolbar=no,personalbar=no,location=yes,status=no,resizable=yes,fullscreen=no,scrollbars=no,width="+a+",height="+e,n.open(r,"SealVerfication",t)},e.$watch(a.getSelected,function(n){return null!=n?e.initialize(a.selected.credit_card):void 0})},angular.module("mnoEnterpriseAngular").directive("dashboardOrganizationCreditCard",function(){return{restrict:"A",scope:{callback:"&"},templateUrl:"app/views/company/credit-card/organization-credit-card.html",controller:e}})}.call(this),function(){var e;e=function(e,n,a,t,r){return e.isCreditShown=function(){var n;return n=e.billing,n&&n.credit&&n.credit.value>0},e.$watch(a.getSelected,function(n){return null!=n?e.billing=a.selected.billing:void 0})},angular.module("mnoEnterpriseAngular").directive("dashboardOrganizationBilling",function(){return{restrict:"A",scope:{},templateUrl:"app/views/company/billing/organization-billing.html",controller:e}})}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("AppDeletionModalCtrl",["$scope","$uibModalInstance","MnoeAppInstances","Utilities","app",function(e,n,a,t,r){return e.modal={app:r,loading:!1,sentence:"Please proceed to the deletion of my app and all data it contains",deleteApp:function(){return e.modal.loading=!0,a.terminate(e.modal.app.id).then(function(t){return a.getAppInstances(),e.modal.loading=!1,e.modal.errors=null,n.close()},function(n){return e.modal.loading=!1,e.modal.errors=t.processRailsError(n)})},cancel:function(){return n.dismiss("cancel")}}}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("DashboardMarketplaceCtrl",["MnoeMarketplace",function(e){"ngInject";var n;n=this,n.isLoading=!0,n.selectedCategory="",n.searchTerm="",n.linkFor=function(e){return"#/marketplace/"+e.id},n.appsFilter=function(e){return null!=n.searchTerm&&n.searchTerm.length>0||!n.selectedCategory?!0:_.contains(e.categories,n.selectedCategory)},e.getApps().then(function(e){return e=e.plain(),n.categories=e.categories,n.apps=e.apps,n.isLoading=!1})}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("DashboardMarketplaceAppCtrl",["$stateParams","$sce","MnoeMarketplace","MnoeOrganizations",function(e,n,a,t){var r,i;i=this,i.isLoading=!0,i.app={},i.initialize=function(e){return angular.copy(e,i.app),i.app.description=n.trustAsHtml(e.description),i.isLoading=!1},i.isTestimonialShown=function(e){return null!=e.text&&e.text.length>0},i.provisionLink=function(){return"/mnoe/provision/new?apps[]="+i.app.nid+"&organization_id="+t.selectedId},i.cart=r={isOpen:!1,bundle:{},config:{}},r.open=function(){var e,n;return(e=DhbOrganizationSvc.data)&&(n=e.organization)&&n.id&&(r.config.organizationId=n.id),r.bundle={app_instances:[{app:{id:i.app.id}}]},r.isOpen=!0},a.getApps(e.appId).then(function(n){var a;return a=_.findWhere(n.apps,{slug:e.appId}),a||(a=_.findWhere(n.apps,{id:parseInt(e.appId)})),i.initialize(a)})}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("ImpacController",["$scope","$log",function(e,n){"ngInject";n.debug("in ImpacController")}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("DashboardCompanyCtrl",["$scope","MnoeOrganizations",function(e,n){var a;a=this,a.isLoading=!0,a.tabs={billing:!1,members:!1,teams:!1,settings:!1},a.initialize=function(){return a.isLoading=!1,a.isBillingShown()?a.tabs.billing=!0:a.tabs.members=!0},a.isTabSetShown=function(){return!a.isLoading&&(n.role.isSuperAdmin()||n.role.isAdmin())},a.isBillingShown=function(){return n.role.isSuperAdmin()},a.isSettingsShown=function(){return n.role.isSuperAdmin()},e.$watch(n.getSelected,function(e){return a.isLoading=!0,null!=e?a.initialize():void 0})}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("DashboardAppsListCtrl",["$scope","$interval","$q","$stateParams","$uibModal","MnoConfirm","MnoeOrganizations","MnoeAppInstances",function(e,n,a,t,r,i,s,o){return e.blink={value:"neutral"},e.loading=!0,e.originalApps=[],e.apps=[],e.isLoading=!0,e.displayOptions={},e.helper={},e.helper.displayCogwheel=function(){return s.can.update.appInstance()},e.helper.canRestartApp=function(){return s.can.update.appInstance()},e.helper.canRenameApp=function(){return s.can.update.appInstance()},e.helper.canDeleteApp=function(){return s.can.destroy.appInstance()},e.helper.canChangePlanApp=function(e){return"cube"===e.stack&&s.can.update.appInstance()},e.helper.displayBootstrapWizard=function(){return s.can.update.appInstance()},e.restartApp={loading:!1},e.restartApp.perform=function(n){return e.restartApp.loading=!0,DashboardAppInstance.restart(n).then(function(n){return e.restartApp.loading=!1},function(n){return e.restartApp.loading=!1})},e.updateAppName=function(n){var a;return a=e.originalApps["app_instance_"+n.id],0===n.name.length?n.name=a.name:o.update(n).then(function(){return a.name=n.name},function(){return n.name=a.name})},e.openAppDeletionModal=function(e){var n;return n=r.open({templateUrl:"app/views/apps/modals/app-deletion-modal.html",controller:"AppDeletionModalCtrl",resolve:{app:function(){return e}}})},e.$watch(s.getSelectedId,function(n){return null!=n?(e.isLoading=!0,o.getAppInstances().then(function(n){return e.isLoading=!1,e.apps=n})):void 0})}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("DashboardAccountCtrl",["$log","toastr","MnoeCurrentUser","MnoErrorsHandler","Miscellaneous","Utilities",function(e,n,a,t,r,i){var s,o;o=this,o.countryCodes=r.countryCodes,o.errors={},o.success={},o.isPersoInfoOpen=!0,o.user={model:{},password:{},loading:!1},s=null,o.user.hasChanged=function(){return!_.isEqual(o.user.model,s)},o.user.cancelChanges=function(){return o.user.model=_.clone(s)},o.user.update=function(){return o.user.loading=!0,a.update(o.user.model).then(function(e){var n;return s.email===o.user.model.email?o.success.user="Saved!":o.success.user="Saved! A confirmation email will be sent to your new email address.\nYou will need to click on the link enclosed in this email in order to validate this new address.",n=o.user.model.email,setUserModel(e),o.user.model.email=n,s=_.clone(o.user.model),o.user.loading=!1},function(e){return o.user.loading=!1,o.errors.user=i.processRailsError(e)})},o.isChangePasswordOpen=!1,o.user.cancelPassword=function(){return o.user.password={}},o.user.cancelPasswordEnabled=function(){return o.user.password.current_password||o.user.password.password||o.user.password.password_confirmation},o.user.updatePassword=function(r){return o.user.loading=!0,t.resetErrors(r),a.updatePassword(o.user.password).then(function(){return n.success("Your password has been changed!"),o.user.cancelPassword()},function(a){return n.error("An error occured, your password has not been changed."),e.error("Error while updating user: ",a),t.processServerError(a,r)})["finally"](function(){return o.user.loading=!1})},a.get().then(function(e){var n;return o.user.model=n=_.clone(a.user),s=_.clone(n),n.deletion_request?o.user.currentDeletionRequestToken=n.deletion_request.token:o.user.currentDeletionRequestToken=-1})}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("NewOrgModalCtrl",["$scope","$modalInstance","Utilities","MnoeOrganizations","$modalInstanceCB",function(e,n,a,t,r){return e.modal={model:{}},e.modal.close=function(){return n.close()},e.modal.proceed=function(){var n;return e.modal.isLoading=!0,n={organization:e.modal.model},t.create(n).then(function(n){return e.modal.errors="",e.modal.close(),r?r(n.organization):void 0},function(n){return e.modal.errors=a.processRailsError(n)})["finally"](function(){return e.modal.isLoading=!1})}}])}.call(this),function(){angular.module("mnoEnterpriseAngular").factory("ModalSvc",["$log","$modal",function(e,n){var a,t;return e.warn("ModalSvc is deprecated. Please use MnoConfirm instead, or directly $uibModal."),t={},a=function(){function e(e){this.opts=e}return e.prototype.config=function(){var e;return e=this,{instance:{templateUrl:e.opts.templateUrl,controller:e.opts.controller,backdrop:e.opts.backdrop||"static",size:e.opts.modalSize||"lg",windowClass:e.opts.modalClass||"inverse",resolve:{$modalInstanceCB:function(){return e.opts.callback}}}}},e.prototype.open=function(){var e;return e=this,n.open(e.config().instance)},e}(),t["new"]=function(e){return null==e&&(e={}),new a(e)},t.newOrgModal=function(e){return null==e&&(e={}),e.templateUrl="app/components/modal-svc-deprecated/new-org-modal/new-organization.html",e.controller="NewOrgModalCtrl",new a(e)},t}])}.call(this),function(){angular.module("mnoEnterpriseAngular").factory("Utilities",function(){var e;return e={},e.processRailsError=function(e){var n;return n=[],e.status&&401===e.status?n.push("Sorry! You are not authorized to perform this action"):e.data&&" "!==e.data?angular.isArray(e.data)?_.each(e.data,function(e){var a;return a=e.charAt(0).toUpperCase()+e.slice(1),n.push(""+a)}):angular.isObject(e.data)?_.each(e.data,function(e,a){var t;return t=a.charAt(0).toUpperCase()+a.slice(1),angular.isArray(e)?_.each(e,function(e){return t.match(/base/i)?n.push(e):n.push(t+" "+e)}):t.match(/base/i)?n.push(e):n.push(t+" "+e)}):angular.isString(e.data)?n.push(e.data):n.push("Potentially a system or communication error. Please retry later."):n.push("Potentially a system or communication error. Please retry later."),n},e.camelize=function(e){return e.replace(/(?:^|[-_])(\w)/g,function(e,n){return n?n.toUpperCase():""})},e.jsCamelize=function(e){var n;return n=this.camelize(e),n.charAt(0).toLowerCase()+n.slice(1)},e.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e})}.call(this),function(){angular.module("mnoEnterpriseAngular").factory("MsgBus",function(){var e,n;return e={},n={dashboardGrid:{},controlBarFilter:{},controlBarQuickFilter:{},orgaSharingModal:{},appConnectModal:{},page:{},pane:{},errors:[],autostopQueue:[],notificationQueue:[],params:{}},e.publish=function(e,a){return n[e]=a},e.subscribe=function(e){return function(){return n[e]}},e})}.call(this),function(){angular.module("mnoEnterpriseAngular").factory("Miscellaneous",["$http","$q",function(e,n){var a;return a=void 0,a={},a.currencies=["USD","AUD","EUR","AED","AFN","ALL","AMD","ANG","AOA","ARS","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BRL","BSD","BTN","BWP","BYR","BZD","CAD","CHF","CLP","CNY","COP","CRC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ETB","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HUF","IDR","ILS","IMP","INR","IQD","IRR","ISK","JEP","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MKD","MMK","MNT","MRO","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TVD","TWD","TZS","UAH","UGX","UYU","UZS","VEF","VND","XAF","XCD","XOF","XPF","YER","ZAR","ZMK","ZWD"],a.defaultCurrency="USD",a.countries=[{label:"Afghanistan",val:"AF",ext:"93"},{label:"Albania",val:"AL",ext:"355"},{label:"Algeria",val:"DZ",ext:"213"},{label:"American Samoa",val:"AS",ext:"1"},{label:"Andorra",val:"AD",ext:"376"},{label:"Angola",val:"AO",ext:"244"},{label:"Anguilla",val:"AI",ext:"1"},{label:"Antarctica",val:"AQ",ext:"672"},{label:"Antigua and Barbuda",val:"AG",ext:"1"},{label:"Argentina",val:"AR",ext:"54"},{label:"Armenia",val:"AM",ext:"374"},{label:"Aruba",val:"AW",ext:"297"},{label:"Australia",val:"AU",ext:"61"},{label:"Austria",val:"AT",ext:"43"},{label:"Azerbaijan",val:"AZ",ext:"994"},{label:"Bahamas",val:"BS",ext:"1"},{label:"Bahrain",val:"BH",ext:"973"},{label:"Bangladesh",val:"BD",ext:"880"},{label:"Barbados",val:"BB",ext:"1"},{label:"Belarus",val:"BY",ext:"375"},{label:"Belgium",val:"BE",ext:"32"},{label:"Belize",val:"BZ",ext:"501"},{label:"Benin",val:"BJ",ext:"229"},{label:"Bermuda",val:"BM",ext:"1"},{label:"Bhutan",val:"BT",ext:"975"},{label:"Bolivia",val:"BO",ext:"591"},{label:"Bonaire, Sint Eustatius and Saba",val:"BQ",ext:"599"},{label:"Bosnia and Herzegovina",val:"BA",ext:"387"},{label:"Botswana",val:"BW",ext:"267"},{label:"Bouvet Island",val:"BV",ext:""},{label:"Brazil",val:"BR",ext:"55"},{label:"British Indian Ocean Territory",val:"IO",ext:"246"},{label:"Brunei Darussalam",val:"BN",ext:"673"},{label:"Bulgaria",val:"BG",ext:"359"},{label:"Burkina Faso",val:"BF",ext:"226"},{label:"Burundi",val:"BI",ext:"257"},{label:"Cambodia",val:"KH",ext:"855"},{label:"Cameroon",val:"CM",ext:"237"},{label:"Canada",val:"CA",ext:"1"},{label:"Cape Verde",val:"CV",ext:"238"},{label:"Cayman Islands",val:"KY",ext:"1"},{label:"Central African Republic",val:"CF",ext:"236"},{label:"Chad",val:"TD",ext:"235"},{label:"Chile",val:"CL",ext:"56"},{label:"China",val:"CN",ext:"86"},{label:"Christmas Island",val:"CX",ext:"61"},{label:"Cocos (Keeling) Islands",val:"CC",ext:"61"},{label:"Colombia",val:"CO",ext:"57"},{label:"Comoros",val:"KM",ext:"269"},{label:"Congo",val:"CG",ext:"242"},{label:"Congo, The Democratic Republic Of The",val:"CD",ext:"243"},{label:"Cook Islands",val:"CK",ext:"682"},{label:"Costa Rica",val:"CR",ext:"506"},{label:"Croatia",val:"HR",ext:"385"},{label:"Cuba",val:"CU",ext:"53"},{label:"Curaçao",val:"CW",ext:"599"},{label:"Cyprus",val:"CY",ext:"357"},{label:"Czech Republic",val:"CZ",ext:"420"},{label:"Côte D'Ivoire",val:"CI",ext:"225"},{label:"Denmark",val:"DK",ext:"45"},{label:"Djibouti",val:"DJ",ext:"253"},{label:"Dominica",val:"DM",ext:"1"},{label:"Dominican Republic",val:"DO",ext:"1"},{label:"Ecuador",val:"EC",ext:"593"},{label:"Egypt",val:"EG",ext:"20"},{label:"El Salvador",val:"SV",ext:"503"},{label:"Equatorial Guinea",val:"GQ",ext:"240"},{label:"Eritrea",val:"ER",ext:"291"},{label:"Estonia",val:"EE",ext:"372"},{label:"Ethiopia",val:"ET",ext:"251"},{label:"Falkland Islands (Malvinas)",val:"FK",ext:"500"},{label:"Faroe Islands",val:"FO",ext:"298"},{label:"Fiji",val:"FJ",ext:"679"},{label:"Finland",val:"FI",ext:"358"},{label:"France",val:"FR",ext:"33"},{label:"French Guiana",val:"GF",ext:"594"},{label:"French Polynesia",val:"PF",ext:"689"},{label:"French Southern Territories",val:"TF",ext:""},{label:"Gabon",val:"GA",ext:"241"},{label:"Gambia",val:"GM",ext:"220"},{label:"Georgia",val:"GE",ext:"995"},{label:"Germany",val:"DE",ext:"49"},{label:"Ghana",val:"GH",ext:"233"},{label:"Gibraltar",val:"GI",ext:"350"},{label:"Greece",val:"GR",ext:"30"},{label:"Greenland",val:"GL",ext:"299"},{label:"Grenada",val:"GD",ext:"1"},{label:"Guadeloupe",val:"GP",ext:"590"},{label:"Guam",val:"GU",ext:"1"},{label:"Guatemala",val:"GT",ext:"502"},{label:"Guernsey",val:"GG",ext:"44"},{label:"Guinea",val:"GN",ext:"224"},{label:"Guinea-Bissau",val:"GW",ext:"245"},{label:"Guyana",val:"GY",ext:"592"},{label:"Haiti",val:"HT",ext:"509"},{label:"Heard and McDonald Islands",val:"HM",ext:""},{label:"Holy See (Vatican City State)",val:"VA",ext:"39"},{label:"Honduras",val:"HN",ext:"504"},{label:"Hong Kong",val:"HK",ext:"852"},{label:"Hungary",val:"HU",ext:"36"},{label:"Iceland",val:"IS",ext:"354"},{label:"India",val:"IN",ext:"91"},{label:"Indonesia",val:"ID",ext:"62"},{label:"Iran, Islamic Republic Of",val:"IR",ext:"98"},{label:"Iraq",val:"IQ",ext:"964"},{label:"Ireland",val:"IE",ext:"353"},{label:"Isle of Man",val:"IM",ext:"44"},{label:"Israel",val:"IL",ext:"972"},{label:"Italy",val:"IT",ext:"39"},{label:"Jamaica",val:"JM",ext:"1"},{label:"Japan",val:"JP",ext:"81"},{label:"Jersey",val:"JE",ext:"44"},{label:"Jordan",val:"JO",ext:"962"},{label:"Kazakhstan",val:"KZ",ext:"7"},{label:"Kenya",val:"KE",ext:"254"},{label:"Kiribati",val:"KI",ext:"686"},{label:"Korea, Democratic People's Republic Of",val:"KP",ext:"850"},{label:"Korea, Republic of",val:"KR",ext:"82"},{label:"Kuwait",val:"KW",ext:"965"},{label:"Kyrgyzstan",val:"KG",ext:"996"},{label:"Lao People's Democratic Republic",val:"LA",ext:"856"},{label:"Latvia",val:"LV",ext:"371"},{label:"Lebanon",val:"LB",ext:"961"},{label:"Lesotho",val:"LS",ext:"266"},{label:"Liberia",
val:"LR",ext:"231"},{label:"Libya",val:"LY",ext:"218"},{label:"Liechtenstein",val:"LI",ext:"423"},{label:"Lithuania",val:"LT",ext:"370"},{label:"Luxembourg",val:"LU",ext:"352"},{label:"Macao",val:"MO",ext:"853"},{label:"Macedonia, the Former Yugoslav Republic Of",val:"MK",ext:"389"},{label:"Madagascar",val:"MG",ext:"261"},{label:"Malawi",val:"MW",ext:"265"},{label:"Malaysia",val:"MY",ext:"60"},{label:"Maldives",val:"MV",ext:"960"},{label:"Mali",val:"ML",ext:"223"},{label:"Malta",val:"MT",ext:"356"},{label:"Marshall Islands",val:"MH",ext:"692"},{label:"Martinique",val:"MQ",ext:"596"},{label:"Mauritania",val:"MR",ext:"222"},{label:"Mauritius",val:"MU",ext:"230"},{label:"Mayotte",val:"YT",ext:"262"},{label:"Mexico",val:"MX",ext:"52"},{label:"Micronesia, Federated States Of",val:"FM",ext:"691"},{label:"Moldova, Republic of",val:"MD",ext:"373"},{label:"Monaco",val:"MC",ext:"377"},{label:"Mongolia",val:"MN",ext:"976"},{label:"Montenegro",val:"ME",ext:"382"},{label:"Montserrat",val:"MS",ext:"1"},{label:"Morocco",val:"MA",ext:"212"},{label:"Mozambique",val:"MZ",ext:"258"},{label:"Myanmar",val:"MM",ext:"95"},{label:"Namibia",val:"NA",ext:"264"},{label:"Nauru",val:"NR",ext:"674"},{label:"Nepal",val:"NP",ext:"977"},{label:"Netherlands",val:"NL",ext:"31"},{label:"Netherlands Antilles",val:"AN",ext:"599"},{label:"New Caledonia",val:"NC",ext:"687"},{label:"New Zealand",val:"NZ",ext:"64"},{label:"Nicaragua",val:"NI",ext:"505"},{label:"Niger",val:"NE",ext:"227"},{label:"Nigeria",val:"NG",ext:"234"},{label:"Niue",val:"NU",ext:"683"},{label:"Norfolk Island",val:"NF",ext:"672"},{label:"Northern Mariana Islands",val:"MP",ext:"1"},{label:"Norway",val:"NO",ext:"47"},{label:"Oman",val:"OM",ext:"968"},{label:"Pakistan",val:"PK",ext:"92"},{label:"Palau",val:"PW",ext:"680"},{label:"Palestine, State of",val:"PS",ext:"970"},{label:"Panama",val:"PA",ext:"507"},{label:"Papua New Guinea",val:"PG",ext:"675"},{label:"Paraguay",val:"PY",ext:"595"},{label:"Peru",val:"PE",ext:"51"},{label:"Philippines",val:"PH",ext:"63"},{label:"Pitcairn",val:"PN",ext:""},{label:"Poland",val:"PL",ext:"48"},{label:"Portugal",val:"PT",ext:"351"},{label:"Puerto Rico",val:"PR",ext:"1"},{label:"Qatar",val:"QA",ext:"974"},{label:"Romania",val:"RO",ext:"40"},{label:"Russian Federation",val:"RU",ext:"7"},{label:"Rwanda",val:"RW",ext:"250"},{label:"Réunion",val:"RE",ext:"262"},{label:"Saint Barthélemy",val:"BL",ext:"590"},{label:"Saint Helena",val:"SH",ext:"290"},{label:"Saint Kitts And Nevis",val:"KN",ext:"1"},{label:"Saint Lucia",val:"LC",ext:"1"},{label:"Saint Martin",val:"MF",ext:"590"},{label:"Saint Pierre And Miquelon",val:"PM",ext:"508"},{label:"Saint Vincent And The Grenedines",val:"VC",ext:"1"},{label:"Samoa",val:"WS",ext:"685"},{label:"San Marino",val:"SM",ext:"378"},{label:"Sao Tome and Principe",val:"ST",ext:"239"},{label:"Saudi Arabia",val:"SA",ext:"966"},{label:"Senegal",val:"SN",ext:"221"},{label:"Serbia",val:"RS",ext:"381"},{label:"Seychelles",val:"SC",ext:"248"},{label:"Sierra Leone",val:"SL",ext:"232"},{label:"Singapore",val:"SG",ext:"65"},{label:"Sint Maarten",val:"SX",ext:"1"},{label:"Slovakia",val:"SK",ext:"421"},{label:"Slovenia",val:"SI",ext:"386"},{label:"Solomon Islands",val:"SB",ext:"677"},{label:"Somalia",val:"SO",ext:"252"},{label:"South Africa",val:"ZA",ext:"27"},{label:"South Georgia and the South Sandwich Islands",val:"GS",ext:"500"},{label:"South Sudan",val:"SS",ext:"211"},{label:"Spain",val:"ES",ext:"34"},{label:"Sri Lanka",val:"LK",ext:"94"},{label:"Sudan",val:"SD",ext:"249"},{label:"Suriname",val:"SR",ext:"597"},{label:"Svalbard And Jan Mayen",val:"SJ",ext:"47"},{label:"Swaziland",val:"SZ",ext:"268"},{label:"Sweden",val:"SE",ext:"46"},{label:"Switzerland",val:"CH",ext:"41"},{label:"Syrian Arab Republic",val:"SY",ext:"963"},{label:"Taiwan, Republic Of China",val:"TW",ext:"886"},{label:"Tajikistan",val:"TJ",ext:"992"},{label:"Tanzania, United Republic of",val:"TZ",ext:"255"},{label:"Thailand",val:"TH",ext:"66"},{label:"Timor-Leste",val:"TL",ext:"670"},{label:"Togo",val:"TG",ext:"228"},{label:"Tokelau",val:"TK",ext:"690"},{label:"Tonga",val:"TO",ext:"676"},{label:"Trinidad and Tobago",val:"TT",ext:"1"},{label:"Tunisia",val:"TN",ext:"216"},{label:"Turkey",val:"TR",ext:"90"},{label:"Turkmenistan",val:"TM",ext:"993"},{label:"Turks and Caicos Islands",val:"TC",ext:"1"},{label:"Tuvalu",val:"TV",ext:"688"},{label:"Uganda",val:"UG",ext:"256"},{label:"Ukraine",val:"UA",ext:"380"},{label:"United Arab Emirates",val:"AE",ext:"971"},{label:"United Kingdom",val:"GB",ext:"44"},{label:"United States",val:"US",ext:"1"},{label:"United States Minor Outlying Islands",val:"UM",ext:""},{label:"Uruguay",val:"UY",ext:"598"},{label:"Uzbekistan",val:"UZ",ext:"998"},{label:"Vanuatu",val:"VU",ext:"678"},{label:"Venezuela, Bolivarian Republic of",val:"VE",ext:"58"},{label:"Vietnam",val:"VN",ext:"84"},{label:"Virgin Islands, British",val:"VG",ext:"1"},{label:"Virgin Islands, U.S.",val:"VI",ext:"1"},{label:"Wallis and Futuna",val:"WF",ext:"681"},{label:"Western Sahara",val:"EH",ext:"212"},{label:"Yemen",val:"YE",ext:"967"},{label:"Zambia",val:"ZM",ext:"260"},{label:"Zimbabwe",val:"ZW",ext:"263"},{label:"Åland Islands",val:"AX",ext:"358"}],a.defaultCountry="US",a.countryCodes=[["AD","(AD) +376"],["AE","(AE) +971"],["AF","(AF) +93"],["AG","(AG) +1"],["AI","(AI) +1"],["AL","(AL) +355"],["AM","(AM) +374"],["AN","(AN) +599"],["AO","(AO) +244"],["AQ","(AQ) +672"],["AR","(AR) +54"],["AS","(AS) +1"],["AT","(AT) +43"],["AU","(AU) +61"],["AW","(AW) +297"],["AX","(AX) +358"],["AZ","(AZ) +994"],["BA","(BA) +387"],["BB","(BB) +1"],["BD","(BD) +880"],["BE","(BE) +32"],["BF","(BF) +226"],["BG","(BG) +359"],["BH","(BH) +973"],["BI","(BI) +257"],["BJ","(BJ) +229"],["BL","(BL) +590"],["BM","(BM) +1"],["BN","(BN) +673"],["BO","(BO) +591"],["BQ","(BQ) +599"],["BR","(BR) +55"],["BS","(BS) +1"],["BT","(BT) +975"],["BV","(BV) +"],["BW","(BW) +267"],["BY","(BY) +375"],["BZ","(BZ) +501"],["CA","(CA) +1"],["CC","(CC) +61"],["CD","(CD) +243"],["CF","(CF) +236"],["CG","(CG) +242"],["CH","(CH) +41"],["CI","(CI) +225"],["CK","(CK) +682"],["CL","(CL) +56"],["CM","(CM) +237"],["CN","(CN) +86"],["CO","(CO) +57"],["CR","(CR) +506"],["CU","(CU) +53"],["CV","(CV) +238"],["CW","(CW) +599"],["CX","(CX) +61"],["CY","(CY) +357"],["CZ","(CZ) +420"],["DE","(DE) +49"],["DJ","(DJ) +253"],["DK","(DK) +45"],["DM","(DM) +1"],["DO","(DO) +1"],["DZ","(DZ) +213"],["EC","(EC) +593"],["EE","(EE) +372"],["EG","(EG) +20"],["EH","(EH) +212"],["ER","(ER) +291"],["ES","(ES) +34"],["ET","(ET) +251"],["FI","(FI) +358"],["FJ","(FJ) +679"],["FK","(FK) +500"],["FM","(FM) +691"],["FO","(FO) +298"],["FR","(FR) +33"],["GA","(GA) +241"],["GB","(GB) +44"],["GD","(GD) +1"],["GE","(GE) +995"],["GF","(GF) +594"],["GG","(GG) +44"],["GH","(GH) +233"],["GI","(GI) +350"],["GL","(GL) +299"],["GM","(GM) +220"],["GN","(GN) +224"],["GP","(GP) +590"],["GQ","(GQ) +240"],["GR","(GR) +30"],["GS","(GS) +500"],["GT","(GT) +502"],["GU","(GU) +1"],["GW","(GW) +245"],["GY","(GY) +592"],["HK","(HK) +852"],["HM","(HM) +"],["HN","(HN) +504"],["HR","(HR) +385"],["HT","(HT) +509"],["HU","(HU) +36"],["ID","(ID) +62"],["IE","(IE) +353"],["IL","(IL) +972"],["IM","(IM) +44"],["IN","(IN) +91"],["IO","(IO) +246"],["IQ","(IQ) +964"],["IR","(IR) +98"],["IS","(IS) +354"],["IT","(IT) +39"],["JE","(JE) +44"],["JM","(JM) +1"],["JO","(JO) +962"],["JP","(JP) +81"],["KE","(KE) +254"],["KG","(KG) +996"],["KH","(KH) +855"],["KI","(KI) +686"],["KM","(KM) +269"],["KN","(KN) +1"],["KP","(KP) +850"],["KR","(KR) +82"],["KW","(KW) +965"],["KY","(KY) +1"],["KZ","(KZ) +7"],["LA","(LA) +856"],["LB","(LB) +961"],["LC","(LC) +1"],["LI","(LI) +423"],["LK","(LK) +94"],["LR","(LR) +231"],["LS","(LS) +266"],["LT","(LT) +370"],["LU","(LU) +352"],["LV","(LV) +371"],["LY","(LY) +218"],["MA","(MA) +212"],["MC","(MC) +377"],["MD","(MD) +373"],["ME","(ME) +382"],["MF","(MF) +590"],["MG","(MG) +261"],["MH","(MH) +692"],["MK","(MK) +389"],["ML","(ML) +223"],["MM","(MM) +95"],["MN","(MN) +976"],["MO","(MO) +853"],["MP","(MP) +1"],["MQ","(MQ) +596"],["MR","(MR) +222"],["MS","(MS) +1"],["MT","(MT) +356"],["MU","(MU) +230"],["MV","(MV) +960"],["MW","(MW) +265"],["MX","(MX) +52"],["MY","(MY) +60"],["MZ","(MZ) +258"],["NA","(NA) +264"],["NC","(NC) +687"],["NE","(NE) +227"],["NF","(NF) +672"],["NG","(NG) +234"],["NI","(NI) +505"],["NL","(NL) +31"],["NO","(NO) +47"],["NP","(NP) +977"],["NR","(NR) +674"],["NU","(NU) +683"],["NZ","(NZ) +64"],["OM","(OM) +968"],["PA","(PA) +507"],["PE","(PE) +51"],["PF","(PF) +689"],["PG","(PG) +675"],["PH","(PH) +63"],["PK","(PK) +92"],["PL","(PL) +48"],["PM","(PM) +508"],["PN","(PN) +"],["PR","(PR) +1"],["PS","(PS) +970"],["PT","(PT) +351"],["PW","(PW) +680"],["PY","(PY) +595"],["QA","(QA) +974"],["RE","(RE) +262"],["RO","(RO) +40"],["RS","(RS) +381"],["RU","(RU) +7"],["RW","(RW) +250"],["SA","(SA) +966"],["SB","(SB) +677"],["SC","(SC) +248"],["SD","(SD) +249"],["SE","(SE) +46"],["SG","(SG) +65"],["SH","(SH) +290"],["SI","(SI) +386"],["SJ","(SJ) +47"],["SK","(SK) +421"],["SL","(SL) +232"],["SM","(SM) +378"],["SN","(SN) +221"],["SO","(SO) +252"],["SR","(SR) +597"],["SS","(SS) +211"],["ST","(ST) +239"],["SV","(SV) +503"],["SX","(SX) +1"],["SY","(SY) +963"],["SZ","(SZ) +268"],["TC","(TC) +1"],["TD","(TD) +235"],["TF","(TF) +"],["TG","(TG) +228"],["TH","(TH) +66"],["TJ","(TJ) +992"],["TK","(TK) +690"],["TL","(TL) +670"],["TM","(TM) +993"],["TN","(TN) +216"],["TO","(TO) +676"],["TR","(TR) +90"],["TT","(TT) +1"],["TV","(TV) +688"],["TW","(TW) +886"],["TZ","(TZ) +255"],["UA","(UA) +380"],["UG","(UG) +256"],["UM","(UM) +"],["US","(US) +1"],["UY","(UY) +598"],["UZ","(UZ) +998"],["VA","(VA) +39"],["VC","(VC) +1"],["VE","(VE) +58"],["VG","(VG) +1"],["VI","(VI) +1"],["VN","(VN) +84"],["VU","(VU) +678"],["WF","(WF) +681"],["WS","(WS) +685"],["YE","(YE) +967"],["YT","(YT) +262"],["ZA","(ZA) +27"],["ZM","(ZM) +260"],["ZW","(ZW) +263"]],a.impacUrls={get_widget:"http://localhost:4000/api/get_widget"},a.impacTenantColors={positive:"#3fc4ff",negative:"#1de9b6",array:["#1de9b6","#7c4dff","#ffc928","#3fc4ff","#ff8e01","#c6ff00","#d500fa","#ff6e41","#ffeb3c","#ff1844"]},a.style={design:{material:!1},palette:{primary:"indigo",accent:"pink",warn:"red",background:"grey",bg_main_color:"#aeb5bf",decorator_main_color:"#758192",decorator_alt_color:"#977bf0",text_strong_color:"#17262d",bg_inverse_color:"#ffffff",bg_on_bg_inverse_color:"#cacfd6",bg_inverse_intense_color:"#17262d",decorator_inverse_color:"#977bf0",text_inverse_color:"#17262d",elem_positive_color:"#d1e55c",elem_positive_flash_color:"#47ff00",elem_cozy_color:"#977bf0",impac:{positive:"#3fc4ff",negative:"#1de9b6",pool:["#1de9b6","#7c4dff","#ffc928","#3fc4ff","#ff8e01","#c6ff00","#d500fa","#ff6e41","#ffeb3c","#ff1844"]}},layout:{public_page_header:!1,dashboard_menu_orientation:"vertical"},devise:{remember_checkbox_shown:!0,unlock_link_shown:!1,forgot_password_link_shown:!0,confirmation_link_shown:!0,omniauth_link_shown:!0,phone_required:!0,password_complexity_deep_check:!1},workflow:{signup_onboarding:!1}},a}])}.call(this),function(){angular.module("mnoEnterpriseAngular").factory("MarketplaceSvc",["$http",function(e){var n;return n={},n.routes={indexPath:function(){return"/mnoe/jpi/v1/marketplace"},showPath:function(e){return n.routes.indexPath()+"/"+e}},n.defaultConfig={},n.config={$q:null},n.data={},n.configure=function(e){return angular.copy(e,n.config),angular.extend(n.config,n.defaultConfig)},n.load=function(a){var t;return null==a&&(a=!1),t=n,(null==t.config.$q||a)&&(t.config.$q=e.get(t.routes.indexPath()).then(function(e){return angular.copy(e.data,t.data)})),t.config.$q},n.reload=function(){return self.load(!0).then(self.startAutoRefresh)},n.setup=function(e){var a;return null==e&&(e={}),a=n,null==a.config.$q?(a.configure(e),a.load(!0)):void 0},n}])}.call(this),function(){angular.module("mnoEnterpriseAngular").factory("DashboardUser",["$http","$q",function(e,n){var a;return a={},a.update=function(n){return e.put("/jpi/v1/current_user",{user:n})},a.updatePassword=function(n,a,t){return e.put("/auth/users/update_password",{user:{password:n,password_confirmation:a,current_password:t}})},a.deletionRequest=function(){return e.post("/mnoe/jpi/v1/deletion_requests")},a.cancelDeletionRequest=function(n){return e["delete"]("/mnoe/jpi/v1/deletion_requests/"+n)},a.resendDeletionRequest=function(n){return e.put("/mnoe/jpi/v1/deletion_requests/"+n+"/resend")},a}])}.call(this),function(){angular.module("mnoEnterpriseAngular").factory("DhbTeamSvc",["$http","$window",function(e,n){var a;return a={},a.routes={basePath:function(){return"/mnoe/jpi/v1/organizations/"+a.config.id+"/teams"},loadPath:function(){return""+a.routes.basePath()},createPath:function(){return""+a.routes.basePath()},showPath:function(e){return"/mnoe/jpi/v1/teams/"+e},updatePath:function(e){return a.routes.showPath(e)},addMembersPath:function(e){return a.routes.showPath(e)+"/add_users"},removeMembersPath:function(e){return a.routes.showPath(e)+"/remove_users"},destroyPath:function(e){return a.routes.showPath(e)}},a.defaultConfig={delay:12e4},a.config={id:null,timerId:null,$q:null},a.data=[],a.getId=function(){return a.config.id},a.configure=function(e){return angular.copy(e,a.config),angular.extend(a.config,a.defaultConfig)},a.load=function(n){var t;return null==n&&(n=!1),t=a,(null==t.config.$q||n)&&(t.config.$q=e.get(t.routes.loadPath()).then(function(e){return angular.copy(e.data.teams,t.data)})),t.config.$q},a.startAutoRefresh=function(){var e;return e=a,null==e.config.timerId?e.config.timerId=n.setInterval(function(){return e.load(!0)},e.config.delay):void 0},a.stopAutoRefresh=function(){var e;return e=a,null!=e.config.timerId?(n.clearInterval(e.config.timerId),e.config.timerId=null):void 0},a.reload=function(){return self.stopAutoRefresh(),self.load(!0).then(self.startAutoRefresh)},a.setup=function(e){var n;return null==e&&(e=a.config),n=a,e.id!==n.config.id?(n.stopAutoRefresh(),n.configure(e),n.load(!0).then(n.startAutoRefresh)):void 0},a.team={},a.team.create=function(n){var t,r,i;return i=a,t={team:n},r=e.post(i.routes.createPath(),t).then(function(e){return i.data.push(e.data.team),e.data.team})},a.team.update=function(n,t){var r,i,s;return s=a,r={team:t},i=e.put(s.routes.updatePath(n),r).then(function(e){var a;return a=_.find(s.data,function(e){return e.id===n}),angular.copy(e.data.team,a)})},a.team.destroy=function(n){var t,r;return r=a,t=e["delete"](r.routes.destroyPath(n)).then(function(e){var a,t;return t=_.find(r.data,function(e){return e.id===n}),a=r.data.indexOf(t),r.data.splice(a,1),t})},a.members={},a.members.add=function(n,t){var r,i,s,o,l;return l=a,r=t,s=[],_.each(r,function(e){return angular.isObject(e)?s.push(e):s.push({id:e})}),i={team:{users:s}},o=e.put(l.routes.addMembersPath(n),i).then(function(e){var a;return a=_.find(l.data,function(e){return e.id===n}),angular.copy(e.data.team.users,a.users)})},a.members.remove=function(n,t){var r,i,s,o,l;return l=a,r=t,s=[],_.each(r,function(e){return angular.isObject(e)?s.push(e):s.push({id:e})}),i={team:{users:s}},o=e.put(l.routes.removeMembersPath(n),i).then(function(e){var a;return a=_.find(l.data,function(e){return e.id===n}),angular.copy(e.data.team.users,a.users)})},a}])}.call(this),function(){angular.module("mnoEnterpriseAngular").factory("DhbOrganizationSvc",["$http","$window","CurrentUserSvc",function(e,n,a){var t;return t={},t.routes={createPath:function(){return"/mnoe/jpi/v1/organizations"},basePath:function(){return"/mnoe/jpi/v1/organizations/"+(t.config.id||"")},arrearsSituationsPath:function(){return t.routes.basePath()+"/charge"},loadPath:function(){return""+t.routes.basePath()},updatePath:function(){return""+t.routes.basePath()},updateBillingPath:function(){return t.routes.basePath()+"/update_billing"},inviteMembersPath:function(){return t.routes.basePath()+"/invite_members"},updateMemberPath:function(){return t.routes.basePath()+"/update_member"},removeMemberPath:function(){return t.routes.basePath()+"/remove_member"},updateSupportPlanPath:function(){return t.routes.basePath()+"/update_support_plan"},trainingSessionReqPath:function(){return t.routes.basePath()+"/training_session_req"},putMetaDataPath:function(){return t.routes.basePath()+"/meta_data"}},t.defaultConfig={delay:12e4},t.config={id:null,timerId:null,$q:null},t.data={},t.getId=function(){return t.config.id},t.configure=function(e){return angular.copy(e,t.config),angular.extend(t.config,t.defaultConfig),t},t.load=function(n){var a;return null==n&&(n=!1),a=t,(null==a.config.$q||n)&&(a.config.$q=e.get(a.routes.loadPath()).then(function(e){return angular.copy(e.data,a.data)})),a.config.$q},t.startAutoRefresh=function(){var e;return e=t,null==e.config.timerId?e.config.timerId=n.setInterval(function(){return e.load(!0)},e.config.delay):void 0},t.stopAutoRefresh=function(){var e;return e=t,null!=e.config.timerId?(n.clearInterval(e.config.timerId),e.config.timerId=null):void 0},t.reload=function(){return self.stopAutoRefresh(),self.load(!0).then(self.startAutoRefresh)},t.setup=function(e){var n;return null==e&&(e=t.config),n=t,e.id!==n.config.id?(n.stopAutoRefresh(),n.configure(e),n.load(!0).then(function(){return n.startAutoRefresh})):void 0},t.organization={},t.organization.create=function(n){var r,i,s;return s=t,r=n,i=e.post(s.routes.createPath(),r),i.then(function(e){return a.addOrg(e.data.organization)}),i},t.organization.update=function(n){var a,r,i;return i=t,a={organization:n},r=e.put(i.routes.updatePath(),a).then(function(e){return angular.copy(e.data.organization,i.data.organization)})},t.billing={},t.billing.update=function(n){var a,r,i;return i=t,a={credit_card:n},r=e.put(i.routes.updateBillingPath(),a).then(function(e){return angular.copy(e.data.credit_card,i.data.credit_card)})},t.data.arrears_situations={},t.charge=function(){var n,a;return a=t,n=e.put(a.routes.arrearsSituationsPath()).then(function(e){return angular.copy(e.data,a.data.arrears_situations)})},t.support_plan={},t.support_plan.update=function(n){var a,r,i;return i=t,a={support_plan:n},r=e.put(i.routes.updateSupportPlanPath(),a).then(function(e){return angular.copy(e.data.organization,i.data.organization)})},t.support_plan.training_session_req=function(n){var a,r,i;return i=t,a={message:n},r=e.post(i.routes.trainingSessionReqPath(),a).then(function(e){return angular.copy(e.data.organization,i.data.organization)})},t.members={},t.members.invite=function(n){var a,r,i,s,o;return o=t,a=[],a=angular.isString(n)?n.split("\n"):n,i=[],_.each(a,function(e){return angular.isObject(e)?i.push(e):i.push({email:e})}),r={invites:i},s=e.put(o.routes.inviteMembersPath(),r).then(function(e){return angular.copy(e.data.members,o.data.members)})},t.members.remove=function(n){var a,r,i;return i=t,a={member:{email:n.email}},r=e.put(i.routes.removeMemberPath(),a).then(function(e){return angular.copy(e.data.members,i.data.members)})},t.members.update=function(n){var a,r,i;return i=t,a={member:n},r=e.put(i.routes.updateMemberPath(),a).then(function(e){return angular.copy(e.data.members,i.data.members)})},t.metaData={},t.metaData.checkTask=function(n){var a,r,i;return i=t,a={name:n,value:!0},r=e.put(i.routes.putMetaDataPath(),a).then(function(e){return i.data.organization.bootstrap_tasks[n]=!0})},t.user={},t.user.isSuperAdmin=function(){return null!=t.data.current_user&&"Super Admin"===t.data.current_user.role},t.user.isAdmin=function(){return null!=t.data.current_user&&"Admin"===t.data.current_user.role},t.user.isPowerUser=function(){return null!=t.data.current_user&&"Power User"===t.data.current_user.role},t.user.isMember=function(){return null!=t.data.current_user&&"Member"===t.data.current_user.role},t.user.atLeastMember=function(){return!0},t.user.atLeastPowerUser=function(){var e;return e=t.user,e.isPowerUser()||e.isAdmin()||e.isSuperAdmin()},t.user.atLeastAdmin=function(){var e;return e=t.user,e.isAdmin()||e.isSuperAdmin()},t.user.atLeastSuperAdmin=function(){return t.user.isSuperAdmin()},t.can={},t.can.read={},t.can.create={},t.can.update={},t.can.destroy={},t.can.read={appInstance:function(e){return null==e&&(e=null),t.user.atLeastMember()},billing:function(e){return null==e&&(e=null),t.user.atLeastSuperAdmin()},member:function(e){return null==e&&(e=null),t.user.atLeastMember()},organizationSettings:function(e){return null==e&&(e=null),t.user.atLeastSuperAdmin()}},t.can.create={appInstance:function(e){return null==e&&(e=null),t.user.atLeastAdmin()},billing:function(e){return null==e&&(e=null),t.user.atLeastSuperAdmin()},member:function(e){return null==e&&(e=null),t.user.atLeastAdmin()&&(null===e||"Super Admin"!==e.role||t.user.isSuperAdmin())},organizationSettings:function(e){return null==e&&(e=null),t.user.atLeastSuperAdmin()}},t.can.update={appInstance:function(e){return null==e&&(e=null),t.can.create.appInstance(e)},billing:function(e){return null==e&&(e=null),t.can.create.billing(e)},member:function(e){return null==e&&(e=null),t.can.create.member(e)},organizationSettings:function(e){return null==e&&(e=null),t.can.create.organizationSettings(e)}},t.can.destroy={appInstance:function(e){return null==e&&(e=null),t.can.create.appInstance(e)},billing:function(e){return null==e&&(e=null),t.can.create.billing(e)},member:function(e){return null==e&&(e=null),t.can.create.member(e)},organizationSettings:function(e){return null==e&&(e=null),t.can.create.organizationSettings(e)}},t}])}.call(this),function(){angular.module("mnoEnterpriseAngular").factory("DashboardAppsDocument",["$http","$q","$window",function(e,n,a){var t;return t={},t.routes={basePath:function(){return"/mnoe/jpi/v1/organizations/"+t.config.id+"/app_instances"},plan:{changePath:function(e){return"/organizations/"+e+"/app_change_requests"}}},t.defaultConfig={delay:6e4,timestamp:0},t.config={id:null,timerId:null,$q:null},t.data={},t.getId=function(){return t.config.id},t.configure=function(e){return e.id&&(t.data={}),angular.copy(e,t.config),angular.extend(t.config,t.defaultConfig)},t.load=function(n){var a;return null==n&&(n=!1),a=t,(null==a.config.$q||n)&&(a.config.$q=e.get(a.routes.basePath()+"?timestamp="+a.config.timestamp).then(function(e){return angular.extend(a.data,e.data.app_instances),a.config.timestamp=e.data.timestamp})),a.config.$q},t.startAutoRefresh=function(){var e;return e=t,null==e.config.timerId?e.config.timerId=a.setInterval(function(){return e.load(!0)},e.config.delay):void 0},t.stopAutoRefresh=function(){var e;return e=t,null!=e.config.timerId?(a.clearInterval(e.config.timerId),e.config.timerId=null):void 0},t.reload=function(){var e;return e=t,e.stopAutoRefresh(),e.config.timestamp=0,angular.copy({},e.data),e.load(!0).then(e.startAutoRefresh)},t.setup=function(e){var n;return null==e&&(e=t.config),n=t,e.id!==n.config.id?(n.stopAutoRefresh(),n.configure(e),n.load(!0).then(n.startAutoRefresh)):void 0},t}])}.call(this),function(){angular.module("mnoEnterpriseAngular").factory("DashboardAppInstance",["$http","$q",function(e,n){var a;return a={},a.terminate=function(n){return e["delete"]("/mnoe/jpi/v1/app_instances/"+n)},a.restart=function(n){return e.put("/app_instances/"+n+"/restart")},a.updateName=function(n,a){return e.put("/app_instances/"+n,{name:a})},a}])}.call(this),function(){angular.module("mnoEnterpriseAngular").factory("CurrentUserSvc",["$http","$q",function(e,n){var a;return a={},a.config={signInPath:"/mnoe/auth/users/sign_in",signUpPath:"/mnoe/auth/users",updatePath:"/mnoe/jpi/v1/current_user",updatePasswordPath:"/mnoe/jpi/v1/current_user/update_password"},a.then=function(e){return null==e&&(e=nil),a.loadDocument().then(e)},a.loadDocument=function(n){var t;return null==n&&(n=!1),t=a,(void 0===t.document||n)&&(t.query=e.get("/mnoe/jpi/v1/current_user"),t.query.success(function(e){return t.document=e})),t.query},a.signIn=function(n,t){var r,i;return i=a,r={email:n,password:t},e.post(i.config.signInPath,{user:r}).then(function(){return i.loadDocument(!0)})},a.addOrg=function(e){var n;return n=a,n.document&&n.document.current_user&&n.document.current_user.organizations?n.document.current_user.organizations.push(e):void 0},a.update=function(n){var t;return t=a,e.put(t.config.updatePath,{user:n}).then(function(e){var n;return n=e.data.current_user,angular.copy(n,t.document.current_user),n})},a.updatePassword=function(n,t,r){var i;return i=a,e.put(i.config.updatePasswordPath,{user:{password:n,password_confirmation:t,current_password:r}})},a.signUp=function(n){var t;return t=a,e.post(t.config.signUpPath,{user:n}).then(function(){return t.loadDocument(!0)})},a.getSsoSessionId=function(){var e;return e=a,null!=e.document?e.document.current_user.sso_session:null},a.getUserData=function(){var e,t;return t=a,e=n.defer(),t.loadDocument().then(function(n){return e.resolve(n.data.current_user)},function(){return e.reject()}),e.promise},a.getOrganizations=function(){var e,t;return t=a,e=n.defer(),t.loadDocument().then(function(n){return e.resolve(n.data.current_user.organizations)},function(n){return e.reject("Error while trying to retrieve current user organizations")}),e.promise},a}])}.call(this),function(){angular.module("mnoEnterpriseAngular").factory("AppsListHelper",["$window","MsgBus",function(e,n){var a,t;return t={},a=function(){function a(e){var n;this.controlType=e,n=this}var t;return a.prototype.actionProgressClass=function(e){var n;return n=e.status,"staged"===n&&(n="provisioning"),"restarting"===n&&(n="starting"),n||(n="terminated"),"updating"===n?"progress-mno-warning progress-striped active":"running"===n?"progress-mno-success":"starting"===n||"provisioning"===n?"progress-mno-success progress-striped active":"terminating"===n?"progress-mno-danger progress-striped active":"terminated"===n?"progress-mno-danger":"stopping"===n?"progress-mno-none progress-striped active":"progress-mno-none"},a.prototype.actionProgress=function(n,a){var t,r,i,s,o,l,c;return null==a&&(a=null),this.isProgressBarShown(n)?(o=n.status,"staged"===o&&(o="provisioning"),"restarting"===o&&(o="starting"),o||(o="terminated"),"stopped"===o||"running"===o||"terminated"===o?(s=100,null!=a&&(s=""+s+a),s):"updating"===o?(s=70,null!=a&&(s=""+s+a),s):(i=n.durations[o],l={provisioning:"createdAt",starting:"startedAt",stopping:"stoppedAt",terminating:"terminatedAt"}[o],c=new Date(n[l]),r=new Date((new Date).getTime()-e.clientTimeOffset),t=(r.getTime()-c.getTime())/1e3,s=Math.round(t/i*100),s=Math.min(s,95),s=Math.max(s,5),null!=a&&(s=""+s+a),s)):0},a.prototype.ownerLabelFor=function(e){return{User:"You",Organization:e.ownerLabel}[e.ownerType]},a.prototype.isAppActionUrlEnabled=function(e){return e&&"terminating"!==e.status&&"terminated"!==e.status},a.prototype.appActionUrl=function(e){return"/mnoe/launch/"+e.uid},a.prototype.appLoaderPath=function(e){return"running"===e.status?"loaders/app_label_running.png":"starting"===e.status||"staged"===e.status||"provisioning"===e.status?"loaders/app_label_starting.gif":"stopping"===e.status?"loaders/app_label_stopping.gif":"stopped"===e.status?"loaders/app_label_stopped.png":"terminating"===e.status?"loaders/app_label_terminating.gif":"terminated"===e.status?"loaders/app_label_terminated.png":"loaders/app_label_stopping.gif"},a.prototype.appLoaderStatus=function(e){return"running"===e.status?'<span class="mgreen">online</span>':"starting"===e.status?'<span class="mgreen">loading</span>':"staged"===e.status||"provisioning"===e.status?'<span class="mgreen">preparing</span>':"stopping"===e.status?'<span class="text-warning">idling</span>':"stopped"===e.status?'<span class="mgrey">offline</span>':"terminating"===e.status?'<span class="mred">terminating</span>':"terminated"===e.status?'<span class="mred">terminated</span>':"<span class='text-warning'>"+e.status+"</span>"},a.prototype.isLaunchHidden=function(e){return"terminating"===e.status||"terminated"===e.status||this.isOauthConnectBtnShown(e)||this.isNewOfficeApp(e)},a.prototype.isStartShown=function(e){return null!=e.stack&&e.stack.match(/^(cloud|connector)$/i)?!1:("ops"===this.controlType||"dashboard"===this.controlType)&&e&&e.canStart&&"stopped"===e.status},a.prototype.isStopShown=function(e){return null!=e.stack&&e.stack.match(/^(cloud|connector)$/i)?!1:("ops"===this.controlType||"dashboard"===this.controlType)&&e&&"hourly"===e.billingType&&e.canStop&&"running"===e.status},a.prototype.isTimerButtonShown=function(e){return this.isStopShown(e)&&null!=e.autostopAt},a.prototype.isRestartShown=function(e){return null!=e.stack&&e.stack.match(/^(cloud|connector)$/i)?!1:("manage"===this.controlType||"dashboard"===this.controlType)&&e&&"running"===e.status},a.prototype.isDeleteShown=function(e){return("manage"===this.controlType||"dashboard"===this.controlType)&&e&&e.canTerminate&&("stopped"===e.status||"running"===e.status)},a.prototype.isTransferShown=function(e){return("manage"===this.controlType||"dashboard"===this.controlType)&&e&&!e.personal&&"terminating"!==e.status&&"terminated"!==e.status&&e.canTerminate},a.prototype.isProgressBarShown=function(e){return"dashboard"===this.controlType?!0:"ops"===this.controlType&&e&&("staged"===e.status||"provisioning"===e.status||"starting"===e.status||"restarting"===e.status||"stopping"===e.status||"terminating"===e.status)},a.prototype.isChangeGradeShown=function(e){return null!=e.stack&&e.stack.match(/^(cloud|connector)$/i)?!1:("manage"===this.controlType||"dashboard"===this.controlType)&&e&&"terminating"!==e.status&&"terminated"!==e.status&&(null==e.appChangeRequest||e.appChangeRequest&&"performed"===e.appChangeRequest.status)},a.prototype.isViewChangeGradeShown=function(e){return("manage"===this.controlType||"dashboard"===this.controlType)&&"terminating"!==e.status&&"terminated"!==e.status&&e.appChangeRequest&&"cancelled"!==e.appChangeRequest.status},a.prototype.classForViewChangeButton=function(e){var n;if(e.appChangeRequest){if(n=e.appChangeRequest.status,"performed"===n)return"fbtn fbtn-mini fbtn-success";if("pending"===n||"performing"===n)return"fbtn fbtn-mini fbtn-warning"}},a.prototype.viewChangeGradeLabel=function(e){var n;if(e.appChangeRequest){if(n=e.appChangeRequest.status,"performed"===n)return"Recent change";if("pending"===n)return"Change pending";if("performing"===n)return"Changing"}},a.prototype.isChangeLoadingShown=function(e){return e.appChangeRequest&&"performing"===e.appChangeRequest.status},a.prototype.isManageActionsShown=function(e){return this.isChangeGradeShown(e)||this.isRestartShown(e)||this.isDeleteShown(e)},a.prototype.openHelpText=function(e){var n;return n="Open your app in a new tab",e.ssoEnabled?n+="<br><br><em>You will automatically be logged in via your maestrano account</em>":e.firstCredentials&&e.firstCredentials.login&&(n+="<br><br>If this is the first time then use",n+='<br><b class="morange">Login</b>: '+e.firstCredentials.login,n+=e.firstCredentials.password?'<br><b class="morange">Password</b>: '+e.firstCredentials.password:'<br><b class="morange">Password</b>: <em>Leave blank</em>'),n},a.prototype.kcPath=function(e){return"/knowledge_center/apps/"+e.appId},a.prototype.isOverlayRequired=function(e){return"connector"===e.stack},a.prototype.isQuickBooksConnectShown=function(e){return"connector"===e.stack&&"quickbooks"===e.app_nid&&!e.oauth_keys_valid},a.prototype.isXeroConnectShown=function(e){return"connector"===e.stack&&"xero"===e.app_nid&&!e.oauth_keys_valid},a.prototype.isMYOBConnectShown=function(e){return"connector"===e.stack&&"myob"===e.app_nid&&!e.oauth_keys_valid},a.prototype.isOauthConnectBtnShown=function(e){return"office-365"!==e.app_nid&&"connector"===e.stack&&!e.oauth_keys_valid},a.prototype.connectToQuickBooks=function(e){return e.status="updating",intuit.ipp.anywhere.grantUrl=this.quickbooksGrantUrl(e)+"?popup=true",intuit.ipp.anywhere.controller.onConnectToIntuitClicked()},a.prototype.isDataSyncShown=function(e){return"connector"===e.stack&&e.oauth_keys_valid},a.prototype.isDataDisconnectShown=function(e){return"connector"===e.stack&&e.oauth_keys_valid},a.prototype.quickbooksGrantUrl=function(n){var a,t;return a=e.location.href.split("/"),t=e.location.protocol+"//"+a[2],t+=this.dataSyncPath(n)},a.prototype.isMicrosoftSetupShown=function(e){
return"connector"===e.stack&&"office-365"===e.appNid&&moment(e.createdAt)>moment().subtract({weeks:2})},a.prototype.isNewOfficeApp=function(e){var a;return a=n.subscribe("params")().new_app,"connector"===e.stack&&"office-365"===e.appNid&&a&&moment(e.createdAt)>moment().subtract({minutes:5})},a.prototype.microsoftTrialUrl=function(e){return e.microsoftTrialUrl},a.prototype.companyName=function(e){return"connector"===e.stack&&e.oauth_keys_valid&&e.oauth_company_name?e.oauth_company_name:!1},a.prototype.connectorVersion=function(e){return"connector"===e.stack&&e.oauth_keys_valid&&e.connectorVersion?t(e.connectorVersion):!1},a.prototype.dataSyncPath=function(e){return"/mnoe/webhook/oauth/"+e.uid+"/sync"},a.prototype.oAuthConnectPath=function(e){return"/mnoe/webhook/oauth/"+e.uid+"/authorize"},a.prototype.dataDisconnectPath=function(e){return"/mnoe/webhook/oauth/"+e.uid+"/disconnect"},a.prototype.dataDisconnectClick=function(n){return e.location.href=this.dataDisconnectPath(n)},a.prototype.myobAccountRightConnectPath=function(e){return"/webhook/myob/"+e.uid+"/authorize?version=account_right"},a.prototype.myobEssentialsConnectPath=function(e){return"/webhook/myob/"+e.uid+"/authorize?version=essentials"},t=function(e){return e=e.replace("_"," "),e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},a}(),t["new"]=function(e){return null==e&&(e="dashboard"),new a(e)},t}])}.call(this),function(){angular.module("mnoEnterpriseAngular").service("MnoeTeams",["MnoeApiSvc","MnoeOrganizations",function(e,n){var a;return a=this,this.teams=null,this.getTeams=function(){return e.one("organizations",n.selectedId).one("teams").getList().then(function(e){return a.teams=e,e})},this}])}.call(this),function(){angular.module("mnoEnterpriseAngular").service("MnoeOrganizations",["$state","$cookies","$log","$q","MnoeApiSvc","MnoeCurrentUser",function(e,n,a,t,r,i){var s,o;return s=this,o=r.all("organizations"),this.selectedId=null,this.getSelectedId=function(){return s.selectedId},this.selected=null,this.getSelected=function(){return s.selected},this.list=function(){return o.getList().then(function(e){return s.list=e,e})},this.get=function(e){var a;return s.selectedId=e,a=r.one("/organizations",e).get().then(function(e){return s.selected=e.plain(),n.put("dhb_ref_id",e.id),e})},this.reload=function(){return s.get(s.selectedId)},this.create=function(e){return r.all("/organizations").post(e).then(function(e){return s.selected=e.plain(),i.user.organizations.push(s.selected.organization),s.selectedId=s.selected.organization.id,e})},this.update=function(e){return e.put()},this.updateCreditCard=function(e){return r.one("organizations",s.selectedId).doPUT({credit_card:e},"/update_billing").then(function(e){return e.plain()})},this.getCurrentId=function(e,r){var i,o,l;return null==e&&(e=null),null==r&&(r=null),i=t.defer(),s.selectedId?(a.debug("MnoeOrganizations.getCurrentId: selectedId",s.selectedId),i.resolve(s.selectedId)):r?(s.get(r),a.debug("MnoeOrganizations.getCurrentId: dhbRefId",s.selectedId),i.resolve(r)):(l=n.get("dhb_ref_id"))?(s.get(l),a.debug("MnoeOrganizations.getCurrentId: cookie",s.selectedId),i.resolve(l)):(o=e.organizations[0],s.get(o.id),a.debug("MnoeOrganizations.getCurrentId: first",s.selectedId),i.resolve(o.id)),i.promise},this.role={},s.role.isSuperAdmin=function(){return null!=s.selected&&"Super Admin"===s.selected.current_user.role},s.role.isAdmin=function(){return null!=s.selected&&"Admin"===s.selected.current_user.role},s.role.isPowerUser=function(){return null!=s.selected&&"Power User"===s.selected.current_user.role},s.role.isMember=function(){return null!=s.selected&&"Member"===s.selected.current_user.role},s.role.atLeastMember=function(){return!0},s.role.atLeastPowerUser=function(){return s.role.isPowerUser()||s.role.isAdmin()||s.role.isSuperAdmin()},s.role.atLeastAdmin=function(){return s.role.isAdmin()||s.role.isSuperAdmin()},s.role.atLeastSuperAdmin=function(){return s.role.isSuperAdmin()},this.can={},s.can.read={appInstance:function(e){return null==e&&(e=null),s.role.atLeastMember()},billing:function(e){return null==e&&(e=null),s.role.atLeastSuperAdmin()},member:function(e){return null==e&&(e=null),s.role.atLeastMember()},organizationSettings:function(e){return null==e&&(e=null),s.role.atLeastSuperAdmin()}},s.can.create={appInstance:function(e){return null==e&&(e=null),s.role.atLeastAdmin()},billing:function(e){return null==e&&(e=null),s.role.atLeastSuperAdmin()},member:function(e){return null==e&&(e=null),s.role.atLeastAdmin()&&(null===e||"Super Admin"!==e.role||s.role.isSuperAdmin())},organizationSettings:function(e){return null==e&&(e=null),s.role.atLeastSuperAdmin()}},s.can.update={appInstance:function(e){return null==e&&(e=null),s.can.create.appInstance(e)},billing:function(e){return null==e&&(e=null),s.can.create.billing(e)},member:function(e){return null==e&&(e=null),s.can.create.member(e)},organizationSettings:function(e){return null==e&&(e=null),s.can.create.organizationSettings(e)}},s.can.destroy={appInstance:function(e){return null==e&&(e=null),s.can.create.appInstance(e)},billing:function(e){return null==e&&(e=null),s.can.create.billing(e)},member:function(e){return null==e&&(e=null),s.can.create.member(e)},organizationSettings:function(e){return null==e&&(e=null),s.can.create.organizationSettings(e)}},this}])}.call(this),function(){angular.module("mnoEnterpriseAngular").service("MnoeMarketplace",["$log","MnoeApiSvc",function(e,n){var a,t,r;return a=this,t=n.oneUrl("/marketplace"),r=null,this.getApps=function(){return null!=r?r:r=t.get()},this}])}.call(this),function(){angular.module("mnoEnterpriseAngular").service("MnoeCurrentUser",["MnoeApiSvc",function(e){var n,a;return n=this,a=null,this.user={},this.get=function(){return null!=a?a:a=e.one("current_user").get().then(function(e){return e=e.plain(),0===e.organizations.length&&$state.go("home.account"),angular.copy(e,n.user),e})},this.update=function(a){return e.all("current_user").doPUT({user:a}).then(function(e){return console.log(e),angular.copy(e,n.user),e})},this.updatePassword=function(n){return e.all("/current_user").doPUT({user:n},"update_password")},this}])}.call(this),function(){angular.module("mnoEnterpriseAngular").service("MnoeAppInstances",["MnoeApiSvc","MnoeOrganizations",function(e,n){var a;return a=this,this.appInstances=[],this.getAppInstances=function(){return a.appInstances.length=0,e.one("organizations",n.selectedId).one("/app_instances").get().then(function(e){return e=_.values(e.app_instances),Array.prototype.push.apply(a.appInstances,e),a.appInstances})},this.update=function(n){return e.one("/app_instances",n.id).patch({name:n.name})},this.terminate=function(n){return e.one("app_instances",n).remove()},this}])}.call(this),function(){angular.module("mnoEnterpriseAngular").factory("MnoeApiSvc",["Restangular","inflector",function(e,n){return e.withConfig(function(e){return e.setBaseUrl("/mnoe/jpi/v1"),e.setDefaultHeaders({Accept:"application/json"}),e.addResponseInterceptor(function(e,a,t,r,i,s){var o;return o=null,_.startsWith(t,"/")?o=e:"getList"===a?o=e[t]:"get"===a||"post"===a||"put"===a?(t=n.singularize(t),o=e[t]):o=e,o})})}])}.call(this),function(){angular.module("mnoEnterpriseAngular").directive("mnoPassword",["MnoErrorsHandler",function(e){return{restrict:"E",scope:{form:"=",data:"=",confirm:"=?",current:"=?",currentText:"@",newText:"@",confirmText:"@"},templateUrl:"app/components/mno-password/mno-password.html",link:function(n,a,t){return n.current||(n.current=!1),n.confirm||(n.confirm=!1),n.errorHandler=e,n.password={hasEightChars:!1,hasOneNumber:!1,hasOneUpper:!1,hasOneLower:!1,isSamePassword:!1,check:function(){var e;return n.password.resetServerErrors(),n.password.hasEightChars=null!=n.data.password&&n.data.password.length>=8,n.password.hasOneNumber=!1,n.password.hasOneUpper=!1,n.password.hasOneLower=!1,angular.isString(n.data.password)&&(_.forEach(n.data.password.split(""),function(e){return Number.isInteger(parseInt(e))&&(n.password.hasOneNumber=!0),e!==e.toUpperCase()||e===e.toLowerCase()||parseInt(e)||(n.password.hasOneUpper=!0),e!==e.toLowerCase()||e===e.toUpperCase()||parseInt(e)?void 0:n.password.hasOneLower=!0}),e=n.password.hasEightChars&&n.password.hasOneNumber&&n.password.hasOneUpper&&n.password.hasOneLower,n.form.password.$setValidity("password",e)),n.confirm?(n.password.isSamePassword=!!n.data.password&&!!n.data.password_confirmation&&n.data.password===n.data.password_confirmation,n.form.password_confirmation.$setValidity("password_confirmation",n.password.isSamePassword)):void 0},resetServerErrors:function(){return e.resetErrors(n.form)}}}}}])}.call(this),function(){angular.module("mnoEnterpriseAngular").directive("mnoLoader",function(){return{restrict:"AE",template:'<div class="loading"><i class="fa fa-2x fa-spin fa-refresh"></i></div>'}})}.call(this),function(){angular.module("mnoEnterpriseAngular").directive("mnoInlineMessage",function(){return{restrict:"AE",scope:{on:"=",message:"@"},templateUrl:"app/components/mno-inline-message/mno-inline-message.html"}})}.call(this),function(){angular.module("mnoEnterpriseAngular").factory("MnoErrorsHandler",["$log",function(e){var n,a;return a={},n=null,a.processServerError=function(a,t){var r;if(!_.startsWith(a.data,"<!DOCTYPE html>"))return 400<=(r=a.status)&&499>=r?(n=a,_.each(n.data,function(n,a){return _.each(n,function(){return null!=t[a]?t[a].$setValidity("server",!1):e.error("MnoErrorsHandler: cannot find field:"+a)})})):void 0},a.errorMessage=function(e){var a;return a=[],null!=n&&_.each(n.data[e],function(e){return a.push(e)}),a.join(", ")},a.resetErrors=function(e){return null!=n?(_.each(n.data,function(n,a){return _.each(n,function(){return null!=e[a]?e[a].$setValidity("server",null):void 0})}),n=null):void 0},a.onlyServerError=function(e){return _.every(e.$error,function(e,n){return"server"===n})},a}])}.call(this),function(){angular.module("mnoEnterpriseAngular").service("MnoConfirm",["$uibModal",function(e){var n,a,t;return n=this,t={closeButtonText:"Close",actionButtonText:"OK",headerText:"Proceed?",bodyText:"Perform this action?"},a={backdrop:!0,keyboard:!0,modalFade:!0,templateUrl:"app/components/mno-confirm/mno-confirm.html"},this.showModal=function(e,a){return null==a&&(a=null),null==a&&(a={}),a.backdrop="static",n.show(e,a)},this.show=function(e,n){var r,i;return null==n&&(n=null),r={},i={},angular.extend(i,t,e),angular.extend(r,a,n),r.controller||(r.controller=["$scope","$modalInstance",function(e,n){return e.modalOptions=i,e.modalOptions.ok=function(e){return n.close(e)},e.modalOptions.close=function(e){return n.dismiss("cancel")}}]),$modal.open(r).result},this}])}.call(this),function(){angular.module("mnoEnterpriseAngular").service("ImpacConfigSvc",["$log","$q","CurrentUserSvc","DhbOrganizationSvc",function(e,n,a,t){return this.getUserData=function(){var t,r,i;return t=n.defer(),i=a.getUserData(),i?t.resolve(i):(e.error(r={msg:"Unable to retrieve user data"}),t.reject(r)),t.promise},this.getOrganizations=function(){var r;return r=n.defer(),t.load().then(function(n){var i;return i=t.getId(),a.getOrganizations().then(function(n){var a,t;return t=n,n.length>0&&(i||(i=n[0].id)),t&&i?r.resolve({organizations:t,currentOrgId:i}):(e.error(a={msg:"Unable to retrieve user organizations"}),r.reject(a))})}),r.promise},this}])}.call(this),function(){angular.module("mnoEnterpriseAngular").directive("dashboardMenu",function(){return{restrict:"EA",templateUrl:"app/components/dashboard-menu/dashboard-menu.html",link:function(e,n,a){return n.find(".menu").on("mouseenter",function(){return angular.element(this).stop(),angular.element(this).find(".brand-logo").addClass("expanded"),angular.element(this).find(".dashboard-button").find(".content").css("display","block"),angular.element(this).animate({width:275},150)}),n.find(".menu").on("mouseleave",function(){return angular.element(this).stop(),angular.element(this).find(".brand-logo").removeClass("expanded"),angular.element(this).find(".dashboard-button").find(".content").css("display","none"),angular.element(this).animate({width:80},150)})}}})}.call(this),function(){var e;e=function(e,n,a,t,r,i,s,o,l){var c,d;return e.selectBox=d={isClosed:!0,isShown:!1,user:s.user,organization:""},d.changeTo=function(e){return o.get(e.id),d.close()},d.selectOrganization=function(){return d.organization=_.find(s.user.organizations,{id:parseInt(o.selectedId)})},d.toggle=function(){return d.isClosed=!d.isClosed},d.close=function(){return d.isClosed=!0},d.createNewOrga=function(){return c.open(),d.close()},c=l.newOrgModal({callback:function(e){return d.changeTo(e)}}),e.$watch(o.getSelectedId,function(e){return null!=e?d.selectOrganization():void 0})},angular.module("mnoEnterpriseAngular").directive("dashboardCompanySelectbox",function(){return{restrict:"EA",controller:e,templateUrl:"app/components/dashboard-company-selectbox/dashboard-company-selectbox.html"}})}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("LayoutController",["$stateParams","$location","MnoeCurrentUser","MnoeOrganizations","MnoeMarketplace",function(e,n,a,t,r){"ngInject";var i;i=this,a.get().then(function(a){return t.getCurrentId(a,e.dhbRefId).then(function(){return r.getApps()}),n.search("dhbRefId",null)})}])}.call(this),function(){angular.module("mnoEnterpriseAngular").filter("truncate",function(){return function(e,n,a,t){var r;return e?(n=parseInt(n,10))?e.length<=n?e:(e=e.substr(0,n),t&&(r=e.lastIndexOf(" "),-1!==r&&(e=e.substr(0,r))),e+(a||"…")):e:""}})}.call(this),function(){angular.module("mnoEnterpriseAngular").run(["$log",function(e){"ngInject";return e.debug("runBlock end")}]).run(["ImpacLinking","ImpacConfigSvc",function(e,n){"ngInject";var a;return a={user:n.getUserData,organizations:n.getOrganizations},e.linkData(a)}]).run(["editableOptions",function(e){"ngInject";return e.theme="bs3"}])}.call(this),function(){angular.module("mnoEnterpriseAngular").config(["$stateProvider","$urlRouterProvider",function(e,n){"ngInject";return e.state("home",{"abstract":!0,url:"?dhbRefId",templateUrl:"app/views/layout.html",controller:"LayoutController",controllerAs:"layout"}).state("home.apps",{url:"/apps",templateUrl:"app/views/apps/dashboard-apps-list.html",controller:"DashboardAppsListCtrl"}).state("home.impac",{url:"/impac",templateUrl:"app/views/impac/impac.html",controller:"ImpacController"}).state("home.account",{url:"/account",templateUrl:"app/views/account/account.html",controller:"DashboardAccountCtrl",controllerAs:"vm"}).state("home.company",{url:"/company",templateUrl:"app/views/company/company.html",controller:"DashboardCompanyCtrl",controllerAs:"vm"}).state("home.marketplace",{url:"/marketplace",templateUrl:"app/views/marketplace/marketplace.html",controller:"DashboardMarketplaceCtrl",controllerAs:"vm"}).state("home.marketplace.app",{url:"^/marketplace/:appId",views:{"@home":{templateUrl:"app/views/marketplace/marketplace-app.html",controller:"DashboardMarketplaceAppCtrl",controllerAs:"vm"}}}),n.otherwise("/apps")}])}.call(this),function(){}.call(this),function(){angular.module("mnoEnterpriseAngular").config(["$logProvider","toastrConfig",function(e,n){"ngInject";return e.debugEnabled(!0),n.allowHtml=!0,n.timeOut=3e3,n.positionClass="toast-top-right",n.preventDuplicates=!0,n.progressBar=!0}]).config(["$httpProvider",function(e){"ngInject";var n;return e.defaults.headers.common.Accept="application/json",e.defaults.headers.common["Content-Type"]="application/json",(n=$("meta[name='csrf-token']").attr("content"))&&(e.defaults.headers.common["X-CSRF-Token"]=n),e}]).config(["$sceDelegateProvider",function(e){"ngInject";return e.resourceUrlWhitelist(["self"])}])}.call(this),angular.module("mnoEnterpriseAngular").run(["$templateCache",function(e){e.put("app/views/layout.html",'<div id="dashboard"><div class="container"><div class="row"><dashboard-menu></dashboard-menu><dashboard-company-selectbox></dashboard-company-selectbox><div class="col-xs-11"><div ui-view=""></div></div></div></div></div>'),e.put("app/components/dashboard-company-selectbox/dashboard-company-selectbox.html",'<div class="company-select-box"><div class="wrapper"><div class="box-header"><span class="title">{{ selectBox.user.name }} {{ selectBox.user.surname }}</span> - <span class="title">{{ selectBox.organization.name }}</span> <a type="button" class="btn switch-company" ng-click="selectBox.toggle()"><i ng-class="!selectBox.isClosed && \'active\'"></i></a></div><div class="box-content scrollbar-hidden" uib-collapse="selectBox.isClosed"><ul class="list-unstyled"><li ng-repeat="organization in selectBox.user.organizations | orderBy:\'name\'"><a href="" ng-click="selectBox.changeTo(organization)"><i class="fa" ng-class="organization === selectBox.organization ? \'fa-dot-circle-o\' : \'fa-circle-o\'"></i> {{organization.name}}</a></li></ul><div class="create-new"><a href="" ng-click="selectBox.createNewOrga()"><small>New Company</small></a></div><div class="admin-link" ng-if="selectBox.user.admin_role"><a href="/admin/"><small>Access Admin Panel</small></a></div></div></div></div>'),e.put("app/components/dashboard-menu/dashboard-menu.html",'<nav class="navbar navbar-fixed-top navbar-inverse visible-xs" role="navigation"><div class="navbar-header"><button type="button" class="navbar-toggle" ng-init="navCollapsed = true" ng-click="navCollapsed = !navCollapsed"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href="#">Dashboard</a></div><div class="collapse navbar-collapse" uib-collapse="navCollapsed"><ul class="nav navbar-nav"><li><a href="#/apps">My dashboard</a></li><li><a href="#/impac">Impac!</a></li><li><a href="#/account">My account</a></li><li><a href="#/company">My company</a></li><li><a href="#/marketplace">Marketplace</a></li><li><a href="/mnoe/auth/users/sign_out" data-method="delete">Sign Out</a></li></ul></div></nav><nav class="col-xs-1 hidden-xs scrollbar-hidden"><div class="menu vertical expanded"><a href="/"><div class="brand-logo"></div></a> <a ui-sref="home.apps" class="dashboard-button" ui-sref-active="active"><div class="content">Dashboard</div><i class="dhb-icon-dashboard"></i></a> <a ui-sref="home.impac" class="dashboard-button top-buffer-1" ui-sref-active="active"><div class="content">Impac!</div><i class="dhb-icon-impac"></i></a> <a ui-sref="home.account" class="dashboard-button top-buffer-1" ui-sref-active="active"><div class="content">My Account</div><i class="dhb-icon-account"></i></a> <a ui-sref="home.company" class="dashboard-button top-buffer-1" ui-sref-active="active"><div class="content">Company</div><i class="dhb-icon-company"></i></a> <a ui-sref="home.marketplace" class="dashboard-button top-buffer-1" ui-sref-active="active"><div class="content">Marketplace</div><i class="dhb-icon-marketplace"></i></a> <a href="/mnoe/auth/users/sign_out" data-method="delete" class="dashboard-button top-buffer-1"><div class="content">Logout</div><i class="dhb-icon-logout"></i></a></div></nav>'),e.put("app/components/mno-confirm/mno-confirm.html",'<div class="modal-header"><button type="button" class="close" aria-label="Close" ng-click="modalOptions.close()"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">{{modalOptions.headerText}}</h4></div><div class="modal-body"><p>{{modalOptions.bodyText}}</p></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="modalOptions.close()">{{modalOptions.closeButtonText}}</button> <button type="button" class="btn btn-primary" ng-click="modalOptions.ok();">{{modalOptions.actionButtonText}}</button></div>'),e.put("app/components/mno-inline-message/mno-inline-message.html","<p ng-class=\"on ? 'mno-inline-checked' : 'mno-inline-unchecked'\"><i class=\"fa\" ng-class=\"on ? 'fa-check-circle' : 'fa-times-circle'\">{{message}}</i></p>"),e.put("app/components/mno-password/mno-password.html",'<div ng-if="current" class="row"><div class="col-md-6"><label>{{currentText}}</label> <input type="password" name="current_password" ng-model="data.current_password" ng-change="password.resetServerErrors()" class="form-control" required=""><div ng-messages="form.current_password.$error" role="alert"><p ng-message="server" class="help-block">Current password {{ errorHandler.errorMessage(\'current_password\') }}</p></div></div></div><div class="row top-buffer-1"><div class="col-md-6"><label>{{newText}}</label> <input type="password" name="password" ng-model="data.password" ng-change="password.check()" class="form-control" required=""><div class="help-block"><ul class="col-sm-6 list-unstyled"><li><mno-inline-message on="password.hasEightChars" message="Eight characters minimum"></mno-inline-message></li><li><mno-inline-message on="password.hasOneNumber" message="One number"></mno-inline-message></li></ul><ul class="col-sm-6 list-unstyled"><li><mno-inline-message on="password.hasOneUpper" message="One uppercase character"></mno-inline-message></li><li><mno-inline-message on="password.hasOneLower" message="One lowercase character"></mno-inline-message></li></ul></div><div ng-messages="form.password.$error" role="alert"><p ng-message="server" class="help-block">This password {{ errorHandler.errorMessage(\'password\') }}</p></div></div><div ng-if="confirm" class="col-md-6"><label>{{confirmText}}</label> <input type="password" name="password_confirmation" ng-model="data.password_confirmation" ng-change="password.check()" class="form-control" required=""><div class="help-block"><ul class="col-sm-6 list-unstyled"><li><mno-inline-message on="password.isSamePassword" message="Same password"></mno-inline-message></li></ul></div></div></div>'),e.put("app/views/account/account.html",'<div id="account"><h2 class="section-title">My Account</h2><div uib-accordion="" class="accordion"><div uib-accordion-group="" is-open="vm.isPersoInfoOpen"><div uib-accordion-heading="">Personal Information <span class="caret pull-right" ng-class="{\'caret-down\': !vm.isPersoInfoOpen, \'caret-up\': vm.isPersoInfoOpen}"></span></div><div class="alert alert-error" ng-show="vm.errors.user"><button class="close" ng-click="vm.errors.user=\'\'">×</button><ul><li ng-repeat="error in vm.errors.user">{{error}}</li></ul></div><div class="alert alert-success" ng-show="vm.success.user"><button class="close" ng-click="vm.success.user=\'\'">×</button><p>{{vm.success.user}}</p></div><form name="form"><div class="row"><div class="col-md-6"><label>Name</label> <input type="text" ng-model="vm.user.model.name" class="form-control"></div><div class="col-md-6"><label>Surname</label> <input type="text" ng-model="vm.user.model.surname" class="form-control"></div></div><div class="row"><div class="col-md-6"><label>Email</label> <input type="text" ng-model="vm.user.model.email" class="form-control"></div><div class="col-md-6"><label>Phone</label><div class="input-group"><div class="input-group-addon select"><select ng-options="phone[0] as phone[1] for phone in vm.countryCodes" ng-model="vm.user.model.phone_country_code"></select></div><input type="text" ng-model="vm.user.model.phone" class="form-control"></div></div></div><div class="row"><div class="col-md-12"><button ng-disabled="!vm.user.hasChanged() || vm.user.loading" class="btn btn-warning" ng-click="vm.user.update()"><span ng-show="vm.user.loading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span> Save</button> <button ng-show="vm.user.hasChanged() && !vm.user.loading" class="btn ng-hide" ng-click="vm.user.cancelChanges()">Cancel</button></div></div></form></div><div uib-accordion-group="" is-open="vm.isChangePasswordOpen"><div uib-accordion-heading="">Change password <span class="caret pull-right" ng-class="{\'caret-down\': !vm.isChangePasswordOpen, \'caret-up\': vm.isChangePasswordOpen}"></span></div><form name="vm.form" novalidate=""><mno-password class="top-buffer-1" form="vm.form" data="vm.user.password" current="true" confirm="true" current-text="Current Password" new-text="New Password" confirm-text="Confirm Password"></mno-password><div class="row top-buffer-1"><div class="col-md-12"><button ng-click="vm.user.updatePassword(vm.form)" ng-disabled="vm.form.$invalid || vm.user.loading" class="btn btn-warning"><span ng-show="vm.user.loading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span> Save</button> <button ng-click="vm.user.cancelPassword()" ng-show="vm.user.cancelPasswordEnabled() && !vm.user.loading" class="btn btn-default">Cancel</button></div></div></form></div></div></div>'),e.put("app/views/apps/dashboard-apps-list.html",'<div id="dashboard-apps-list"><h2 class="section-title">Dashboard</h2><mno-loader ng-show="isLoading"></mno-loader><div ng-show="!isLoading"><div class="row"><div ng-repeat="app in apps" class="col-md-3"><div class="app-dashboard"><div ng-switch="displayOptions[app.id]"><div ng-switch-when="true"><a ng-click="displayOptions[app.id] = !displayOptions[app.id]" ng-show="helper.displayCogwheel()" class="options" href=""><i class="fa fa-times"></i></a><div ng-show="appsListHelper.isDataSyncShown(app)"><br><a class="btn btn-info" href="{{ appsListHelper.dataSyncPath(app) }}" mno-helptext="Trigger a manual sync between {{app.appName}} and Maestrano.">Manual Data Sync</a></div><div ng-show="appsListHelper.isDataDisconnectShown(app)"><br><a class="btn btn-danger" ng-really-message="Are you sure you want to disconnect {{app.appName}} and Maestrano?" ng-really-click="appsListHelper.dataDisconnectClick(app)" href="" mno-helptext="Disconnect the link between {{app.appName}} and Maestrano.">Disconnect Link</a></div><br><div><br><button ng-click="restartApp.perform(app.id)" ng-show="helper.canRestartApp() && appsListHelper.isRestartShown(app)" ng-disabled="restartApp.loading" class="btn">Restart</button> <button ng-click="openAppDeletionModal(app)" ng-show="helper.canDeleteApp()" class="btn btn-danger">Delete</button></div></div><div ng-switch-default=""><a ng-click="displayOptions[app.id] = !displayOptions[app.id]" ng-show="helper.displayCogwheel()" class="options" href=""><i class="fa fa-cog"></i></a><br><a ng-href="{{appsListHelper.appActionUrl(app)}}" target="_blank"><img class="app-logo" ng-src="{{app.logo}}"></a><br><div editable-text="app.name" onaftersave="updateAppName(app)" class="title" style="border:0px;">{{app.name}}</div><div ng-show="appsListHelper.companyName(app)"><div class="app-line" style="border:0px;" uib-tooltip="{{appsListHelper.companyName(app)}}">Linked to: {{ appsListHelper.companyName(app) | truncate:25 }}</div></div><div ng-show="appsListHelper.connectorVersion(app)"><div class="app-line" style="border:0px;">MYOB Version: {{appsListHelper.connectorVersion(app)}}</div></div><div ng-show="appsListHelper.isOauthConnectBtnShown(app)"><a class="btn btn-warning" ng-href="{{appsListHelper.oAuthConnectPath(app)}}">Connect</a></div><a ng-href="{{appsListHelper.appActionUrl(app)}}" target="_blank" ng-hide="appsListHelper.isLaunchHidden(app)" class="btn btn-warning">Launch App</a> <span ng-show="app.status == \'terminating\' || app.status == \'terminated\'">(deleted)</span><br><a ng-show="app.tutorial" ng-href="{{app.tutorial}}" class="tutorial" target="_blank">Tutorials</a></div></div></div></div><div class="col-md-3"><div class="app-dashboard add-app"><a href="#/marketplace"><div class="fa fa-plus-circle"></div></a></div></div></div><div dashboard-bootstrap-wizard="true" ng-show="helper.displayBootstrapWizard()"></div></div></div>'),e.put("app/views/impac/impac.html",'<div id="impac"><h2>Impac!</h2><impac-dashboard></impac-dashboard></div>'),e.put("app/views/company/company.html",'<h2 class="section-title">Company</h2><div class="row dashboard-organization"><mno-loader ng-show="vm.isLoading"></mno-loader><div class="col-md-12" ng-if="!vm.isTabSetShown() && !vm.isLoading"><div class="well"><div class="row"><div class="col-md-12"><div dashboard-organization-members=""></div></div></div><div class="clearfix"></div></div><div class="row"><div class="col-md-12"><div dashboard-organization-team-list="" title="Your Teams"></div></div></div></div><div class="col-md-12 top-buffer-2" ng-if="vm.isTabSetShown() && !vm.isLoading"><div uib-tabset=""><div uib-tab="" ng-show="vm.isBillingShown()" active="vm.tabs.billing"><div uib-tab-heading="">Billing</div><div uib-accordion="" class="accordion"><div uib-accordion-group="" is-open="isCrbgOpen"><div uib-accordion-heading="">Current Billing <span class="caret pull-right" ng-class="{\'caret-down\': !isCrbgOpen, \'caret-up\': isCrbgOpen}"></span></div><div class="col-md-12"><div dashboard-organization-billing=""></div></div></div><div uib-accordion-group="" is-open="isBdtOpen"><div uib-accordion-heading="">Billing Details <span class="caret pull-right" ng-class="{\'caret-down\': !isBdtOpen, \'caret-up\': isBdtOpen}"></span></div><div class="col-md-12"><div dashboard-organization-credit-card=""></div></div></div><div uib-accordion-group="" is-open="isPsIvOpen"><div uib-accordion-heading="">Past Invoices <span class="caret pull-right" ng-class="{\'caret-down\': !isPsIvOpen, \'caret-up\': isPsIvOpen}"></span></div><div class="col-md-12"><div dashboard-organization-invoices=""></div></div></div></div></div><div uib-tab="" active="vm.tabs.members"><div uib-tab-heading="">Members</div><div class="well"><div class="col-md-12"><div dashboard-organization-members=""></div></div><div class="clearfix"></div></div></div><div uib-tab="" active="tabs.teams"><div uib-tab-heading="">Teams</div><div><h4 class="text-bg-inverse">Team Management <span class="text-muted"><small><em>&nbsp;Control access to your apps</em></small></span></h4><div class="spacer2"></div><div class="col-md-12"><div dashboard-organization-teams=""></div></div><div class="clearfix"></div></div></div><div uib-tab="" ng-show="vm.isSettingsShown()" active="vm.tabs.settings"><div uib-tab-heading="">Settings</div><div class="well"><div class="spacer2"></div><div class="col-md-12"><div dashboard-organization-settings=""></div></div><div class="clearfix"></div></div></div></div></div></div>'),e.put("app/views/marketplace/marketplace-app.html",'<div class="dashboard-marketplace-app"><div class="row show-header top-buffer-1"><div class="col-md-12"><a ui-sref="home.marketplace()" class="text-muted">< Back</a><div class="media"><div class="pull-left"><img class="media-object" ng-src="{{vm.app.logo}}" ng-alt="{{vm.app.name}}"></div><div class="media-body"><h2 class="media-heading">{{vm.app.name}}</h2></div></div></div></div><div class="show-content top-buffer-1"><div class="row"><div class="col-md-8"><div class="well carousel"><div carousel="" interval="3000"><div slide="" ng-repeat="picture in vm.app.pictures" class="screenshot"><img ng-src="{{picture}}" alt="screenshot"></div></div></div></div><div class="col-md-4"><div class="well text-center well-details"><div class="row"><div class="col-xs-12 col-sm-4 col-sm-offset-4 col-md-8 col-md-offset-2"><div class="btn-fluid-wrapper"><a class="btn btn-warning btn-promo" ng-href="{{vm.provisionLink()}}">Start Now!</a></div></div></div><div class="row"><div class="col-xs-12 col-sm-4 col-sm-offset-4 col-md-8 col-md-offset-2"><ul class="app-features"><li ng-show="vm.app.is_responsive"><img src="assets/images/icons/mobile-responsive-logo.png" alt="responsive icon"> Responsive</li><li ng-show="vm.app.is_star_ready" mno-helptext="Your live tutorials directly inside your app"><img src="assets/images/icons/star-enabled-logo.png" alt="Star icon"> Star!™ Tutorials</li><li ng-show="vm.app.is_connec_ready" mno-helptext="Your Data automatically shared between your applications"><img ng-src="assets/images/icons/connec-enabled-logo.png" alt="Connec icon"> Connec!™ Ready</li></ul></div></div><div class="row"><div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-12 col-md-offset-0"><ul class="key-benefits"><li ng-repeat="benefit in vm.app.key_benefits track by $index"><i class="fa fa-check"></i> {{benefit}}</li></ul></div></div></div></div></div><div class="row"><div class="col-md-6" ng-repeat="testimonial in vm.app.testimonials | limitTo:2" ng-show="vm.isTestimonialShown(testimonial)"><div class="ribbon-testimonial ribbon-white"><div class="body">{{testimonial.text}}<div class="arrow"></div></div><div class="from"><div class="name">{{testimonial.author}}</div><div class="company">{{testimonial.company}}</div></div></div></div></div><div class="row"><div class="col-md-12"><div class="well top-buffer-1" ng-bind-html="vm.app.description"></div></div></div></div></div>'),
e.put("app/views/marketplace/marketplace.html",'<h2 class="section-title">Marketplace</h2><div class="row dashboard-marketplace"><mno-loader ng-show="vm.isLoading"></mno-loader><div class="col-md-12" ng-show="!vm.isLoading"><div class="row"><div class="marketplace-nav"><div class="col-sm-4"><select class="form-control" ng-model="vm.selectedCategory" ng-options="c for c in vm.categories" ng-change="vm.searchTerm = \'\'"><option value="">All</option></select></div><div class="col-sm-4"><input type="text" class="form-control" placeholder="Search..." ng-model="vm.searchTerm" ng-change="vm.selectedCategory = \'\'"></div></div></div><div class="row"><div class="marketplace-list"><div class="col-sm-6 col-md-4" ng-repeat="app in vm.apps | filter:vm.appsFilter | filter:vm.searchTerm"><a class="marketplace-app-card" ui-sref="home.marketplace.app({appId: app.id})"><div class="media"><div class="pull-left"><img class="media-object" ng-src="{{app.logo}}" ng-alt="{{app.name}}"></div><div class="media-body"><h4 class="media-heading">{{app.name}}</h4>{{app.tiny_description}}</div><div class="arrow"><i class="fa fa-caret-right fa-2x"></i></div></div></a></div></div></div></div></div>'),e.put("app/components/modal-svc-deprecated/new-org-modal/new-organization.html",'<div class="modal-header"><div class="close" type="button" ng-click="modal.close(_self)">×</div><h3>Create New Company</h3></div><div class="modal-body"><div class="row"><div class="col-sm-12"><div class="alert alert-error" ng-show="modal.errors"><button class="close" ng-click="modal.errors=\'\'">×</button><ul><li ng-repeat="error in modal.errors">{{error}}</li></ul></div></div></div><div class="row"><div class="col-sm-6 col-sm-offset-3 text-center"><p>Enter a name for your new company</p><div class="spacer1"></div><input type="text" class="form-control" ng-model="modal.model.name" required=""></div></div></div><div class="modal-footer"><div class="row"><div class="col-sm-12"><button class="btn btn-default" ng-click="modal.close(_self)" ng-show="!modal.isLoading">Cancel</button> <button ng-click="modal.proceed(_self)" ng-disabled="modal.isLoading" class="btn btn-info"><span ng-show="modal.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span> Create</button></div></div></div>'),e.put("app/views/apps/modals/app-deletion-modal.html",'<div class="modal-header"><button type="button" class="close" aria-label="Close" ng-click="modalOptions.close()"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">Confirm app deletion</h4></div><div class="modal-body"><div class="alert alert-error" ng-show="modal.errors"><button class="close" ng-click="modal.errors=\'\'">×</button><ul><li ng-repeat="error in modal.errors">{{error}}</li></ul></div><p class="text-center"><small>In order to delete your app, please enter the following statement in the box below.</small></p><p class="text-error text-center">{{modal.sentence}}</p><div class="row"><div class="col-md-8 col-md-offset-2"><input type="text" ng-model="sentenceCheck" class="form-control text-center" required=""></div></div></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="modal.cancel()">Cancel</button> <button type="button" class="btn btn-danger" ng-disabled="modal.sentence != sentenceCheck" ng-click="modal.deleteApp()"><span ng-show="modal.loading"><i class="fa fa-spinner fa-spin"></i>&nbsp;</span>Delete {{modal.app.name}}</button></div>'),e.put("app/views/company/billing/organization-billing.html",'<div class="row"><div class="col-md-12"><p>Your billing for the current invoicing period is: <b>{{ billing.current.value | currency: billing.current.options.symbol }} ({{ billing.current.options.iso_code }})</b></p></div></div><div class="row" ng-show="isCreditShown()"><div class="col-md-12"><p>You have <b>{{ billing.credit.value | currency: billing.credit.options.symbol }} ({{ billing.credit.options.iso_code }})</b> credit on your account to be used for the next payment. Note that this credit account will also be linked to any organization you create.</p></div></div><div class="row"><div class="col-md-12"><p><small><em>Note that the amount for your current invoicing period is indicative and might not reflect the latest changes in your current billing.</em></small></p></div></div><div class="row"><div class="col-md-12"><h5>About our billing cycle</h5><p>Our invoicing period runs from the 25th of the previous month to the 24th of the current month. Any amount due (current spending minus credit) is charged on the 2nd of the following month.</p></div></div>'),e.put("app/views/company/credit-card/organization-credit-card.html",'<div class="row"><h4 class="cc-header">Credit Card Details <small><em class="text-muted">- This is a secured, 128-bit SSL encrypted credit card form</em></small></h4><div class="clearfix"></div><hr><form name="forms.creditCard" role="form" novalidate="" class="form-horizontal"><div class="form-group"><label class="col-sm-2 control-label">Title</label><div class="col-sm-4"><select class="form-control" ng-model="model.title" ng-options="label for label in config.validTitles" required=""><option value="" disabled="" selected="" style="display:none;">-- SELECT --</option></select></div></div><div class="form-group"><label class="col-sm-2 control-label">Name on card</label><div class="col-sm-4"><input type="text" class="form-control" placeholder="Name" ng-model="model.first_name" required=""></div><div class="col-sm-5"><input type="text" class="form-control" placeholder="Surname" ng-model="model.last_name" required=""></div></div><div class="form-group"><label class="col-sm-2 control-label">Card Number</label><div class="col-sm-9"><input type="text" class="form-control" ng-model="model.number" required=""></div></div><div class="form-group"><label class="col-sm-2 control-label">CVV</label><div class="col-sm-3"><input type="text" class="form-control" ng-model="model.verification_value" required=""></div></div><div class="form-group"><label class="col-sm-2 control-label">Country</label><div class="col-sm-6"><select class="form-control" ng-model="model.country" ng-options="country.val as country.label for country in config.validCountries" required=""><option value="" disabled="" selected="" style="display:none;">-- SELECT --</option></select></div></div><div class="form-group"><label class="col-sm-2 control-label">Expiry</label><div class="col-sm-3"><select class="form-control" ng-model="model.month" ng-options="label for label in config.validMonths" required=""><option value="" disabled="" selected="" style="display:none;">-- MONTH --</option></select></div><div class="col-sm-3"><select class="form-control" ng-model="model.year" ng-options="label for label in config.validYears" required=""><option value="" disabled="" selected="" style="display:none;">-- YEAR --</option></select></div></div></form></div><div class="row"><h4 class="cc-header">Billing Address</h4><hr><form name="forms.billingAddress" novalidate="" class="form-horizontal"><div class="form-group"><label class="col-sm-2 control-label">Street Address</label><div class="col-sm-9"><input type="text" class="form-control" ng-model="model.billing_address" required=""></div></div><div class="form-group"><label class="col-sm-2 control-label">City</label><div class="col-sm-4"><input type="text" class="form-control" ng-model="model.billing_city" required=""></div><label class="col-sm-1 control-label">Postcode</label><div class="col-sm-4"><input type="text" class="form-control" ng-model="model.billing_postcode" required=""></div></div><div class="form-group"><label class="col-sm-2 control-label">Country</label><div class="col-sm-6"><select class="form-control" ng-model="model.billing_country" ng-options="country.val as country.label for country in config.validCountries" required=""><option value="" disabled="" selected="" style="display:none;">-- SELECT --</option></select></div></div></form></div><div class="row"><div class="alert alert-error" ng-show="errors"><button class="close" ng-click="errors=\'\'">×</button><ul><li ng-repeat="error in errors">{{error}}</li></ul></div></div><div class="row text-right"><div class="col-md-4 col-md-offset-8"><button ng-click="cancel()" class="btn btn-shaded" ng-show="isCancelShown() && !isLoading">Cancel</button> <button ng-click="save()" href="" class="btn btn-info" ng-disabled="!isSaveEnabled() || isLoading"><span ng-show="isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span> <span ng-show="!isLoading"><i class="fa fa-shield"></i></span> Save</button></div></div>'),e.put("app/views/company/invoices/organization-invoices.html",'<div class="table-cell"><div class="row th-row hidden-xs"><div class="cell col-sm-3">Period</div><div class="cell col-sm-3">Amount</div><div class="cell col-sm-3">Paid</div><div class="cell col-sm-3 text-center">Download</div></div><div class="row td-row" ng-repeat="invoice in invoices"><div class="cell col-sm-3"><span class="cell-label visible-xs-inline">Period:<br></span> {{ invoice.period }}</div><div class="cell col-sm-3"><span class="cell-label visible-xs-inline">Amount:</span>{{ invoice.amount.value | currency: invoice.amount.options.symbol }} ({{ invoice.amount.options.iso_code }})</div><div class="cell col-sm-3"><span class="cell-label visible-xs-inline">Paid:</span>{{ {true: \'Yes\', false:\'No\'}[invoice.paid] }}</div><div class="cell col-sm-3 text-center"><a ng-href="{{invoice.link}}" target="_blank" class="btn btn-sm"><i class="fa fa-cloud-download"></i> <span class="cell-label visible-xs-inline"><br>Download</span></a></div></div></div>'),e.put("app/views/company/members/organization-members.html",'<div class="row" ng-show="isInviteShown()"><button class="btn btn-sm btn-warning" ng-click="inviteMembers()"><i class="fa fa-user-plus"></i> Invite Users</button></div><div class="table-cell"><div class="row th-row hidden-xs"><div class="cell col-sm-2">Name</div><div class="cell col-sm-2">Surname</div><div class="cell col-sm-4">Email</div><div class="cell col-sm-2">Role</div></div><div class="row td-row" ng-repeat="member in members"><div class="cell col-sm-2"><span class="cell-label visible-xs-inline">Name:</span> {{ member.name }}</div><div class="cell col-sm-2"><span class="cell-label visible-xs-inline">Surname:</span> {{ member.surname }}</div><div class="cell col-sm-4"><span class="cell-label visible-xs-inline">Email:<br></span> {{ member.email }}</div><div class="cell col-sm-2"><span class="cell-label visible-xs-inline">Role:</span> {{ memberRoleLabel(member) }}</div><div class="cell col-sm-2"><a ng-click="editMember(member)" class="btn btn-sm edit-member-button-star-ref" ng-show="isEditShown(member)"><i class="fa fa-pencil-square-o"></i> <span class="cell-label visible-xs-inline"><br>Edit</span></a> <a ng-click="removeMember(member)" class="btn btn-sm btn-link remove-member-button-star-ref" ng-show="isRemoveShown(member)"><i class="fa fa-remove"></i> <span class="cell-label visible-xs-inline"><br>Remove</span></a></div></div></div><script type="text/ng-template" id="dashboard/organization/members/invite-modal.html"><!-- Modal Header --> <div class="modal-header"> <div class="close" type="button" ng-click="inviteModal.close()" >×</div> <h3 ng-bind-html="inviteModal.title()"></h3> </div> <!-- Modal Body --> <div class="modal-body" ng-switch on="inviteModal.step"> <!-- Enter Emails step --> <div ng-switch-when="enterEmails" class="text-center"> <div class="alert alert-error" ng-show="inviteModal.invalidEmails.length > 0"> <ng-pluralize count="inviteModal.invalidEmails.length" when="{\'one\': \'The following email address is invalid: \', \'other\': \'The following email addresses are invalid: \'}"> </ng-pluralize> \'{{inviteModal.invalidEmails.join("\', \'")}}\' </div> <div class="row"> <div class="col-sm-12"> <p>Enter the email addresses of the people you want to invite in your company</p> <p> One address per line, e.g.:<br> user1@company.com<br> user2@company.com </p> </div> </div> <div class="row"> <div class="col-sm-6 col-sm-offset-3"> <textarea class="form-control" rows="3" style="color:black;background-color:white;" ng-model="inviteModal.userEmails" required></textarea> </div> </div> <div class="row"> <div class="col-sm-12"> <p>Please note that for security reasons unaccepted invites will automatically expire after 3 days.</p> </div> </div> </div> <!-- Define Roles step --> <div ng-switch-when="defineRoles"> <div class="row"> <div class="col-sm-10 col-sm-offset-1"> <div class="table-cell inverse"> <div class="row th-row hidden-xs"> <div class="cell col-sm-4">Email</div> <div class="cell col-sm-3">Role</div> <div class="cell col-sm-3" ng-show="inviteModal.isTeamListShown()">Team</div> </div> <div class="row td-row" ng-repeat="member in inviteModal.members"> <div class="cell col-sm-4"> <span class="cell-label visible-xs-inline">Email: <br/></span> {{ member.email }} </div> <div class="cell col-sm-3"> <span class="cell-label visible-xs-inline">Role:</span> <select ng-model="member.role" ng-options="role for role in inviteModal.roleList" class="form-control"></select> </div> <div class="cell col-sm-3" ng-show="inviteModal.isTeamListShown()"> <span class="cell-label visible-xs-inline">Team:</span> <select ng-model="member.team_id" ng-options="team.id as team.name for team in inviteModal.teamList" class="form-control"> <option value=\'\' selected>-- Select Team --</option> </select> </div> </div> </div> </div> </div> </div> <!-- End: modal-body --> </div> <!-- Modal Footer --> <div class="modal-footer"> <div class="row"> <div class="col-md-12"> <button class="btn btn-shaded" ng-click="inviteModal.close()" ng-show="!inviteModal.isLoading"> Cancel </button> <button class="btn btn-warning" ng-disabled="!inviteModal.isNextEnabled() || inviteModal.isLoading" ng-click="inviteModal.next()"> <span ng-show="inviteModal.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span> {{inviteModal.labelForAction()}} </button> </div> </div> </div></script><script id="dashboard/organization/members/edition-modal.html" type="text/ng-template"><!--Modal Header --> <div class="modal-header"> <div class="close" ng-click="editionModal.close()" type="button">×</div> <h4 ng-bind-html="editionModal.title()"></h4> </div> <!--Modal Body --> <div class="modal-body"> <div class="alert alert-error" ng-show="editionModal.errors"> <button class="close" ng-click="editionModal.errors=\'\'">×</button> <ul> <li ng-repeat="error in editionModal.errors">{{error}}</li> </ul> </div> <div class="row role-management"> <div class="col-sm-12"> <div ng-switch on="editionModal.selectedRole"> <div ng-switch-when="Member"> <i class="fa fa-cloud fa-4x"></i> <br/><br/> <p>A member can see other members and access the company apps</p> </div> <div ng-switch-when="Power User"> <i class="fa fa-cloud fa-4x"></i> <i class="fa fa-power-off fa-4x"></i> <br/><br/> <p>A Power User can see other members and start idle company apps (on per hour plan)</p> </div> <div ng-switch-when="Admin"> <i class="fa fa-cloud fa-4x"></i> <i class="fa fa-power-off fa-4x"></i> <i class="fa fa-users fa-4x"></i> <br/><br/> <p>An Admin can manage other members (except Super Admin users) and manage the company apps</p> </div> <div ng-switch-when="Super Admin"> <i class="fa fa-cloud fa-4x"></i> <i class="fa fa-power-off fa-4x"></i> <i class="fa fa-users fa-4x"></i> <i class="fa fa-cc-mastercard fa-4x"></i> <br/><br/> <p>A Super Admin has all power within the company including access to billing management</p> </div> </div> <div class="btn-group"> <button class="btn btn-default" ng-class="editionModal.classForRole(role)" ng-click="editionModal.select(role)" ng-repeat="role in editionModal.config.roles" type="button"> {{role}} </button> </div> <!-- End: col --> </div> <!-- End: Row --> </div> <!-- End: Modal Body --> </div> <!--Modal Footer --> <div class="modal-footer"> <div class="row"> <div class="col-sm-12"> <button class="btn btn-default" ng-click="editionModal.close()" ng-show="!editionModal.isLoading">Cancel</button> <button class="btn btn-warning" ng-click="editionModal.change()" ng-disabled="editionModal.isChangeDisabled() || editionModal.isLoading"> <span ng-show="editionModal.isLoading"> <i class="fa fa-spinner fa-pulse fa-fw"></i> </span> Change </button> </div> </div> </div></script><script type="text/ng-template" id="dashboard/organization/members/removal-modal.html"><div class="modal-header"> <div class="close" type="button" ng-click="deletionModal.close()" >×</div> <h3>Confirm action</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-12"> <div class="alert alert-error" ng-show="deletionModal.errors"> <button class="close" ng-click="deletionModal.errors=\'\'">×</button> <ul> <li ng-repeat="error in deletionModal.errors">{{error}}</li> </ul> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <p class="align-center" ng-bind-html="deletionModal.confirmationText()"></p> </div> </div> </div> <div class="modal-footer"> <div class="row"> <div class="col-sm-12"> <button class="btn btn-default" ng-click="deletionModal.close()" ng-show="!deletionModal.isLoading">Cancel</button> <button class="btn btn-danger" ng-click="deletionModal.remove()" ng-disabled="deletionModal.isLoading"> <span ng-show="deletionModal.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span> Remove </button> </div> </div> </div></script>'),e.put("app/views/company/settings/organization-settings.html",'<div class="row"><div class="alert alert-error" ng-show="errors"><button class="close" ng-click="errors=\'\'">×</button><ul><li ng-repeat="error in errors">{{error}}</li></ul></div></div><div class="row"><form name="forms.settings" role="form" novalidate="" class="form-horizontal"><div class="form-group"><label class="col-sm-3 control-label">Company name</label><div class="col-sm-6"><input type="text" class="form-control" ng-model="model.name" required=""></div></div><div class="form-group"><label class="col-sm-3 control-label">Connec!™ Data Sharing</label><div class="col-sm-6"><div class="btn-group btn-group-lg"><a class="btn btn-default" ng-click="connecBtnClickOn(\'enable\')" ng-class="connecBtnClassFor(\'enable\')">On</a> <a class="btn btn-default" ng-click="connecBtnClickOn(\'disable\')" ng-class="connecBtnClassFor(\'disable\')">Off</a></div></div></div></form></div><div class="row text-right"><div class="col-md-4 col-md-offset-8"><button ng-click="cancel()" class="btn" ng-show="isCancelShown() && !isLoading">Cancel</button> <button ng-click="save()" href="" class="btn btn-warning" ng-disabled="!isSaveEnabled() || isLoading"><span ng-show="isLoading"><i class="fa fa-spinner fa-spin"></i></span> Save</button></div></div>'),e.put("app/views/company/team-list/team-list.html",'<div class="col-md-12 text-center" ng-show="isLoading"><img ng-src="{{assetPath[\'mno_enterprise/loader-32x32-bg-main.gif\']}}" alt="Loading"></div><div ng-show="!isLoading"><h4 ng-show="hasTeams()">{{ title }}</h4><div uib-accordion="" class="accordion"><div ng-repeat="team in teams" class="teams-accordion-star-ref"><div uib-accordion-group="" is-open="team.$isAccOpen"><div uib-accordion-heading="">{{ team.name }} <span class="caret pull-right" ng-class="{\'caret-down\': !team.$isAccOpen, \'caret-up\': team.$isAccOpen}"></span></div><div class="row text-center" ng-show="isTeamEmpty(team)"><p class="text-muted"><em>{{ team.name }} does not have any team member yet!</em></p><div ng-show="canManageTeam()"><button class="btn btn-sm btn-grey" ng-click="memberAddModal.open(team)"><i class="fa fa-plus"></i> <i class="fa fa-user"></i> Add Team Members</button></div></div><div class="row" ng-show="!isTeamEmpty(team)"><div class="col-sm-12" ng-show="canManageTeam()"><button class="btn btn-sm btn-grey" ng-click="memberAddModal.open(team)"><i class="fa fa-plus"></i> <i class="fa fa-user"></i> Add Team Members</button></div><div class="spacer1"></div></div><div class="row" ng-show="!isTeamEmpty(team)"><div class="col-sm-12"><div class="table-cell"><div class="row th-row hidden-xs"><div class="cell col-sm-3 col-md-2">Name</div><div class="cell col-sm-4 col-md-2">Surname</div><div class="cell col-md-4 hidden-xs hidden-sm">Email</div><div class="cell col-sm-3 col-md-2 hidden-xs">Role</div></div><div class="row td-row" ng-repeat="member in team.users"><div class="cell col-sm-3 col-md-2"><span class="cell-label visible-xs-inline">Name:</span> {{ member.name }}</div><div class="cell col-sm-4 col-md-2"><span class="cell-label visible-xs-inline">Surname:</span> {{ member.surname }}</div><div class="cell col-md-4 hidden-xs hidden-sm"><span class="cell-label visible-xs-inline">Email:</span> {{ member.email }}</div><div class="cell col-sm-3 col-md-2 hidden-xs"><span class="cell-label visible-xs-inline">Role:</span> {{ member.role }}</div><div class="cell col-sm-2" ng-show="canManageTeam()"><a ng-click="memberRemovalModal.open(team,member)" class="btn btn-sm btn-link"><i class="fa fa-remove hidden-xs"></i> <span class="cell-label visible-xs-inline">&nbsp;Remove</span></a></div></div></div></div></div></div></div></div></div>'),e.put("app/views/company/teams/organization-teams.html",'<div class="row dashboard-teams"><mno-loader ng-show="isLoading"></mno-loader><div ng-show="!isLoading && !hasTeams()"><div class="row text-bg-inverse"><div class="col-sm-12 text-center"><p>You do not have any teams! Teams are a great way of controlling who has access to applications within your company.</p><div class="spacer1"></div><button type="button" class="btn btn-lg btn-grey btn-grey-bordered" ng-click="matrix.addTeam()"><i class="fa fa-plus" style="margin-bottom:-2px;"></i> &nbsp; Add a Team Now!</button></div></div></div><div ng-show="!isLoading && hasTeams()"><div class="row"><div class="col-sm-12"><span class="text-left text-muted"><small><em>Admins and Super Admins always have access to all apps. Members unallocated to any team will have access to all apps by default.</em></small></span></div></div><div class="permission-matrix-wrapper hidden-xs scrollbar-lightgrey"><div class="row" ng-show="matrix.errors"><div class="alert alert-error"><button class="close" ng-click="matrix.errors=\'\'">×</button><ul><li ng-repeat="error in matrix.errors">{{error}}</li></ul></div></div><div class="row"><div class="col-xs-4 table-left"><table class="permission-matrix"><thead><tr><th class="td-first"><button type="button" class="btn btn-grey btn-grey-bordered" ng-click="matrix.addTeam()"><i class="fa fa-plus" style="margin-bottom:-2px;"></i> &nbsp; add team</button></th><th style="width:6%;">All</th></tr></thead><tbody><tr ng-repeat="team in teams"><td class="td-first team-name"><div class="editable-instructions"><span editable-text="team.name" onaftersave="matrix.updateTeamName(team)" buttons="no">{{ team.name }}</span></div><span class="team-remove"><button class="btn btn-grey" ng-click="matrix.removeTeam(team)"><i class="fa fa-remove hidden-xs"></i></button></span></td><td><input type="checkbox" ng-checked="matrix.hasAccess(team,\'all\')" ng-click="matrix.toggleAccess(team,\'all\')"></td></tr><tr class="btn-group-row" ng-show="matrix.isChanged()"><td class="text-center" colspan="2"><div ng-show="matrix.isChanged() && !matrix.isLoading"><button type="button" class="btn btn-grey btn-grey-bordered" ng-click="matrix.cancel()">Cancel</button> <button type="button" class="btn btn-warning" ng-click="matrix.save()">Save</button></div><mno-loader ng-show="matrix.isLoading"></mno-loader></td></tr></tbody></table></div><div class="col-xs-8 table-right"><div class="text-center" ng-show="!hasApps()"><div class="spacer2"></div><p>It looks like you do not have any application at the moment.</p><a type="button" class="btn btn-lg btn-grey btn-grey-bordered" href="#/marketplace"><i class="fa fa-plus" style="margin-bottom:-2px;"></i> &nbsp; Add an App Now!</a></div><table class="permission-matrix" ng-show="hasApps()"><thead><tr><th ng-repeat="appInstance in appInstances"><div class="th-content"><img class="media-object" ng-src="{{appInstance.logo}}" ng-alt="{{appInstance.name}}"> {{ appInstance.name | truncate: 13}}</div></th><th></th></tr></thead><tbody><tr ng-repeat="team in teams"><td ng-repeat="appInstance in appInstances"><input type="checkbox" ng-checked="matrix.hasAccess(team,appInstance)" ng-click="matrix.toggleAccess(team,appInstance)"></td><td></td></tr><tr class="btn-group-row"><td ng-repeat="appInstance in appInstances"></td><td></td></tr></tbody></table></div></div><div class="clearfix"></div></div><div dashboard-organization-team-list=""></div></div></div>'),e.put("app/views/company/teams/modals/team-delete-modal.html",'<div class="modal-header"><div class="close" type="button" ng-click="teamDeletionModal.close()">×</div><h3>Confirm action</h3></div><div class="modal-body"><div class="row"><div class="col-sm-12"><div class="alert alert-error" ng-show="teamDeletionModal.errors"><button class="close" ng-click="teamDeletionModal.errors=\'\'">×</button><ul><li ng-repeat="error in teamDeletionModal.errors">{{error}}</li></ul></div></div></div><div class="row"><div class="col-sm-12"><p class="align-center">Are you really sure you want to remove {{teamDeletionModal.team.name}}?</p></div></div></div><div class="modal-footer"><div class="row"><div class="col-sm-12"><button class="btn btn-shaded" ng-click="teamDeletionModal.close()" ng-show="!teamDeletionModal.isLoading">Cancel</button> <button class="btn btn-danger" ng-click="teamDeletionModal.proceed()" ng-show="!teamDeletionModal.isLoading">Remove</button> <img ng-src="{{assetPath[\'mno_enterprise/loader-32x32-bg-inverse.gif\']}}" ng-show="teamDeletionModal.isLoading" alt="Loading"></div></div></div>')}]);
//# sourceMappingURL=../maps/scripts/app-5018340e7a.js.map
